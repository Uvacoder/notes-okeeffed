{"version":3,"sources":["webpack:///../manual/JavaScript/User-Auth-TH.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---manual-java-script-user-auth-th-md-5e816ecf489671140d5f.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`USER AUTHENTICATION WITH EXPRESS AND MONGO`}</p>\n    <p>{`/////////////////////////////////////////////////////////`}</p>\n    <p>{`PART 1`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\">\n          <li parentName=\"ol\">{`The Project`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`Setting up credentials to do what you say you want to do`}</p>\n    <p>{`Authentication vs Authorization`}</p>\n    <p>{`Authentication: Confirming the user is who they say they are\nAuthorization: Where you are and aren't allow to see certain information`}</p>\n    <p>{`Steps:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create an account`}</li>\n      <li parentName=\"ul\">{`Checks if it matches a record in the database`}</li>\n    </ul>\n    <p>{`While the user is logged in, they can alter the page depending on the user infomation.`}</p>\n    <p>{`Sessions can be used for a db to have \"unique token\" which sticks with you and your device until the end of the session.`}</p>\n    <p>{`//////////////`}</p>\n    <p>{`The project uses Express and MongoDB`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre></li>\n    </ul>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`Setting up the Project`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`npm install body-parser\t\t\t// parsing incoming requests\nnpm install express\nnpm install pug\t\t\t\t\t// used for jade`}</p>\n    <p>{`/////////////////////////////////////////////////////////`}</p>\n    <p>{`PART 2`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 3\n        }}>\n          <li parentName=\"ol\">{`Registration`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`// adding routes for registration form`}</p>\n    <p>{`router.get('/register', function (req, res, next) {\nreturn res.send('Register today!');\n});`}</p>\n    <p>{`router.post('/register', function (req, res, next) {\nreturn res.send('User Created!');\n});`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 4\n        }}>\n          <li parentName=\"ol\">{`Nodemon / Pug files`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <ul>\n      <li parentName=\"ul\">{`Starts the app and refreshes each .js save`}</li>\n      <li parentName=\"ul\">{`Wrapper for node`}</li>\n    </ul>\n    <p>{`PUG FORM - register.pug `}</p>\n    <p>{`extends layout`}</p>\n    <p>{`block content\n.main.container.row\n.col-md-6.col-md-offset-3\nh1.display-4.m-b-2 Sign Up`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`        //register form\n        form(method='POST' action='/register')\n        div.form-group\n            label(for='name') Name:\n            input#name.form-control(type='text', placeholder='first and last' name='name')\n        div.form-group\n            label(for='email') Email:\n            input#email.form-control(type='email', placeholder='name@email.com' name='email')\n        div.form-group\n            label(for='favoriteBook') Favorite Book:\n            input#favoriteBook.form-control(type='text', placeholder='title of book' name='favoriteBook')\n        div.form-group\n            label(for='pw') Password:\n            input#pw.form-control(type='password' name='password')\n        div.form-group\n            label(for='pw2') Confirm Password:\n            input#pw2.form-control(type='password' name='confirmPassword')\n        button.btn.btn-primary(type='submit') Sign up\n`}</code></pre>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 5\n        }}>\n          <li parentName=\"ol\">{`Setting up MongoDB`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <ul>\n      <li parentName=\"ul\">{`Mongoose is the most used for Express applications`}</li>\n    </ul>\n    <p>{`npm install --save mongoose`}</p>\n    <p>{`// in the app.js`}</p>\n    <p>{`var mongoose = require('mongoose');`}</p>\n    <p>{`mongoose.connect(\"mongodb://localhost:27017/bookworm\");`}</p>\n    <p>{`var db = mongoose.connection;`}</p>\n    <p>{`db.on('error', console.error.bind(console, 'connection error:')); `}</p>\n    <p>{`// running mongo`}</p>\n    <p>{`mongod`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 6\n        }}>\n          <li parentName=\"ol\">{`Defining the Mongo\nSchema`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`Store: name, email, password etc.`}</p>\n    <p>{`in models, created user.js`}</p>\n    <p>{`// user.js`}</p>\n    <p>{`var mongoose = require('mongoose');`}</p>\n    <p>{`var UserSchema = new mongoose.Schema({\nemail: {\ntype: String,\nrequired: true,\ntrim: true,\nunique: true,\n},\nname: {\ntype: String,\nrequired: true,\ntrim: true,\n},\nfavoriteBook: {\ntype: String,\nrequired: true,\ntrim: true\n},\npassword: {\ntype: String,\nrequired: true\n}\n});`}</p>\n    <p>{`var User = mongoose.model('User', UserSchema);\nmodule.exports = User;`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 7\n        }}>\n          <li parentName=\"ol\">{`Adding the Data`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`// in app.js`}</p>\n    <p>{`var User = require('../models/user');`}</p>\n    <p>{`...`}</p>\n    <p>{`router.post('/register', function(req,res,next) {\nif (req.body.email &&\nreq.body.name &&\nreq.body.favoriteBook &&\nreq.body.password &&\nreq.body.confirmPassword) {`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`    if (req.body.password !== req.body.confirmPassword) {\n        var err = new Error('Passwords do not match.');\n        err.status = 400;\n        return next(err);\n    }\n\n    // create object with form input\n\n    var userData = {\n        email: req.body.email\n        name: req.body.name\n        favouriteBook: req.body.favouriteBook,\n        password: req.body.password\n    };\n\n    // use schema's create method to insert document\n    User.create(userData, function (error, user) {\n        if (error) {\n            return next(error);\n        } else {\n            return res.redirect('/profile');\n        }\n    });\n\n} else {\n    var err = new Error('All fields required');\n    err.status = 400;\n    return next(err);\n}\n`}</code></pre>\n    <p>{`});`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 8\n        }}>\n          <li parentName=\"ol\">{`Hashing and Salting`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`npm install bcrypt --save`}</p>\n    <p>{`// in use `}</p>\n    <p>{`// in User.js`}</p>\n    <p>{`var bcrypt = require('bcrypt');`}</p>\n    <p>{`// MONGOOSE PRESAVE HOOK\nUserSchema.pre('save', function(next) {\nvar user = this;\nbcrypt.hash(user.password, 10, function(err, hash) {\nif (err) {\nreturn next(err);\n}\nuser.password = hash;\nnext();\n})\n});`}</p>\n    <p>{`/////////////////////////////////////////////////////////`}</p>\n    <p>{`PART 3: Sessions and Cookies`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n9. User Login \n`}</code></pre>{`   Functionalities`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Sessions & Cookies`}</li>\n        </ul></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <ul>\n      <li parentName=\"ul\">{`http stateless protocol for cookies and sessions`}</li>\n    </ul>\n    <p>{`Http is a stateless protocol itself`}</p>\n    <ul>\n      <li parentName=\"ul\">{`server doesn't keep track of when a user changes pages`}</li>\n      <li parentName=\"ul\">{`need to create a session id - usually set time too`}</li>\n      <li parentName=\"ul\">{`need session ID and user ID`}</li>\n      <li parentName=\"ul\">{`cookies is a key/value pair that a server wants to create`}</li>\n      <li parentName=\"ul\">{`we will create a cookie with a session ID`}</li>\n    </ul>\n    <p>{`npm install express-session --save`}</p>\n    <p>{`// in app.js`}</p>\n    <p>{`var session = require('express-session');`}</p>\n    <p>{`// use sessions for tracking logins - check more in the readme\napp.use(session({\nsecret: 'treehouse loves you',\nresave: true,\nsaveUninitialized: false\n}));`}</p>\n    <ul>\n      <li parentName=\"ul\">{`not useful when in production. check `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/expressjs/session#compatible-session-stores\"\n        }}>{`https://github.com/expressjs/session#compatible-session-stores`}</a></li>\n      <li parentName=\"ul\">{`secret is used to sign a cookie, to ensure that only the application created the cookie.`}</li>\n    </ul>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`**`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                  *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 10\n        }}>\n          <li parentName=\"ol\">{`Adding login\nto routes`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                  *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`**`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`// in app.js`}</p>\n    <p>{`router.get('/login', function(req, res, next) {\nreturn res.render('login', { title: 'Log In' });\n});`}</p>\n    <p>{`router.post('/login', function(req, res, next) {\nreturn res.send('Logged in!');\n});`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`**`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                  *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 11\n        }}>\n          <li parentName=\"ol\">{`Pug login form`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                  *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`**`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`// pug login form!`}</p>\n    <p>{`// views/login.pug`}</p>\n    <p>{`extends layout`}</p>\n    <p>{`block content\n.main.container\n.row\n.col-md-6.col-md-offset-3\nh1.display-4.m-b-2 Log In\nform(method='POST' action='/login')\ndiv.form-group\nlabel(for='email') Email\ninput.form-control(type='text' id='email' placeholder='email' name='email')\ndiv.form-group\nlabel(for='password') Password\ninput.form-control(type='password' id='password' placeholder='password' name='password')\nbutton.btn.btn-primary(type='submit') Log in`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`**`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                  *\n`}</code></pre></li>\n    </ul>\n    <ol {...{\n      \"start\": 12\n    }}>\n      <li parentName=\"ol\">{`Auth the Username\nand Password`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                  *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`**`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`// Example in app.js for Express`}</p>\n    <p>{`router.post('/login', function(req, res, next) {\nif (req.body.email && req.body.password) {\nUser.authenticate(req.body.email, req.body.password, function (error, user) {\nif (error || !user) {\nvar err = new Error('Wrong email or password.');\nerr.status = 401;\nreturn next(err);\n} else {\nreq.session.userId = user._id;\nreturn res.redirect('/profile');\n}\n});\n} else {\nvar err = new Error('Email and password are required.');\nerr.status = 401;\nreturn next(err);\n}\n});`}</p>\n    <p>{`// in user.js`}</p>\n    <p>{`UserSchema.statics.authenticate = function(email, password, callback) {\nUser.findOne({ email: email })\n.exec(function (error, user) {\nif (error) {\nreturn callback(error);\n} else if (!user) {\nvar err = new Error('User not found.');\nerr.status = 401;\nreturn callback(err);\n}\nbcrypt.compare(password, user.password, function (error, result) {\nif (result === true) {\nreturn callback(null, user);\n} else {\nreturn callback();\n}\n});\n});\n}`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                *\n`}</code></pre></li>\n    </ul>\n    <ol {...{\n      \"start\": 13\n    }}>\n      <li parentName=\"ol\">{`Profile Route\nand Page`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`profile.pug`}</p>\n    <p>{`extends layout`}</p>\n    <p>{`block content\n.main.container.clearfix\n.row\n.col-md-8.col-md-offset-2\nh1.display-4\nimg.avatar.img-circle.hidden-xs-down(src='/images/avatar.png', alt='avatar')\n| #{name}\nh2.favorite-book Favorite Book\n| #{favorite}`}</p>\n    <p>{`// GET /profile`}</p>\n    <p>{`router.get('/profile', function(req, res, next) {\nif (! req.session.userId ) {\nvar err = new Error(\"You are not authorized to view this page.\");\nerr.status = 403;\nreturn next(err);\n}\nUser.findById(req.session.userId)\n.exec(function (error, user) {\nif (error) {\nreturn next(error);\n} else {\nreturn res.render('profile', { title: 'Profile', name: user.name, favorite: user.favoriteBook });\n}\n});\n});`}</p>\n    <p>{`/////////////////////////////////////////////////////////`}</p>\n    <p>{`PART 4`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n      14. Using Session\n`}</code></pre>{`Vars to Customize Content`}</li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`To make user id global`}</p>\n    <p>{`// in app.js`}</p>\n    <p>{`// make user id available to templates\napp.use(function (req,res,next) {\nres.locals.currentUser = req.session.userId;\nnext();\n});`}</p>\n    <p>{`For the new logout route`}</p>\n    <p>{`router.get('/logout', function (req, res, next) {\nif (req.session) {\nreq.session.destroy(function(err) {\nif (err) {\nreturn next(err);\n} else {\nreturn res.redirect('/');\n}\n});\n}\n});`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 15\n        }}>\n          <li parentName=\"ol\">{`Understanding\nMiddleware`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <ul>\n      <li parentName=\"ul\">{`between requests and responses `}</li>\n    </ul>\n    <p>{`app.use //middleware`}</p>\n    <p>{`//session middleware\napp.use(session({\nsecret: 'treehouse loves you',\nresave: true,\nsaveUninitialized: false\n}));`}</p>\n    <p>{`Request/Response Cycle`}</p>\n    <p>{`app.use(function (req,res,next) {\n...\nnext(); //custom middleware ALWAYS needs call to next\n});`}</p>\n    <p>{`// CUSTOM MIDDLEWARE`}</p>\n    <p>{`create middleware folder`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`index.js`}</p>\n    </blockquote>\n    <p>{`function loggedOut(req, res, next) {\nif (req.session && req.session.userId) {\nreturn res.redirect('profile');\n}\nreturn next();\n}`}</p>\n    <p>{`module.exports.loggedOut = loggedOut;`}</p>\n    <p>{`var mid = require('../middleware');`}</p>\n    <ul>\n      <li parentName=\"ul\">{`now we can reference the function by mid.loggedOut`}</li>\n    </ul>\n    <p>{`Now, in the routes we want to double check... we can put the func in.`}</p>\n    <p>{`eg.\nrouter.get('/register', mid.loggedOut, function(req, res, next) {\nreturn res.render('register', { title: 'Sign up' });\n});`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`index.js`}</p>\n    </blockquote>\n    <p>{`function requiresLogin(req, res, next) {\nif (req.session && req.session.userId) {\nnext();\n} else {\nvar err = new Error('You do not have permission to see this.');\nerr.status = 401;\nreturn next(err);\n}\n}`}</p>\n    <p>{`module.exports.requiresLogin = requiresLogin;`}</p>\n    <p>{`/`}<strong parentName=\"p\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong></p>\n    <ul>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><ol parentName=\"li\" {...{\n          \"start\": 16\n        }}>\n          <li parentName=\"ol\">{`Using MongoDB\nas a Session Store`}</li>\n        </ol></li>\n      <li parentName=\"ul\"><pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`                    *\n`}</code></pre><strong parentName=\"li\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\"><strong parentName=\"strong\">{`****`}</strong></strong></strong></strong></strong></strong>{`/`}</li>\n    </ul>\n    <p>{`connect-mongo is a middleware already written for us!`}</p>\n    <p>{`npm install connect-mongo --save`}</p>\n    <p>{`require MongoStore = require('connect-mongo')(session);`}</p>\n    <p>{`// in app.js`}</p>\n    <p>{`app.use(session({\nsecret: 'treehouse loves you',\nresave: true,\nsaveUninitialized: false\nstore: new MongoStore({\nmongooseConnection: db\n})\n}));`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}