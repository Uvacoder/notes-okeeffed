{"version":3,"sources":["webpack:///../manual/Kubernetes/AWS-EKS-Starter.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","alt","src","isMDXComponent"],"mappings":"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","file":"component---manual-kubernetes-aws-eks-starter-md-a5b04586e162fdcfa09a.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"aws-eks-starter\"\n    }}>{`AWS EKS Starter`}</h1>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#aws-eks-starter\"\n        }}>{`AWS EKS Starter`}</a><ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#eks-setup-process\"\n            }}>{`EKS Setup Process`}</a><ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#eks-use-cases\"\n                }}>{`EKS Use cases`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#the-course\"\n                }}>{`The Course`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#eks-architecture\"\n                }}>{`EKS Architecture`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#basic-eks-setup\"\n                }}>{`Basic EKS Setup`}</a></li>\n            </ul></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#setup-for-the-eks-cluster\"\n            }}>{`Setup for the EKS cluster`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#iam-user-roles\"\n            }}>{`IAM User roles`}</a><ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#iam-user-and-permissions\"\n                }}>{`IAM user and permissions`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#create-iam-role\"\n                }}>{`Create IAM role`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#create-keypair\"\n                }}>{`Create keypair`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#create-api-access-key-secret\"\n                }}>{`Create API Access key/-secret`}</a></li>\n            </ul></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#create-base-aws-infrastructure\"\n            }}>{`Create base AWS infrastructure`}</a><ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#create-vpc-subnets-and-security-group-for-your-k8s-cluster\"\n                }}>{`Create VPC, subnets and security group for your K8s cluster`}</a><ul parentName=\"li\">\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#working-on-the-console\"\n                    }}>{`Working on the console`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#setting-stack-name\"\n                    }}>{`Setting stack name`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#continuing-on\"\n                    }}>{`Continuing on`}</a></li>\n                </ul></li>\n            </ul></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#creating-the-eks-control-plane\"\n            }}>{`Creating the EKS control plane`}</a><ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#via-cli\"\n                }}>{`Via CLI`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#via-gui\"\n                }}>{`Via GUI`}</a></li>\n            </ul></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#setting-up-local-kubectl-for-eks\"\n            }}>{`Setting up local kubectl for EKS`}</a><ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#recap-on-the-kubectl-setup\"\n                }}>{`Recap on the kubectl setup`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#install-kubectl--aws-iamauthenticator\"\n                }}>{`Install kubectl & aws-iam_authenticator`}</a></li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#configure-kubectl\"\n                }}>{`Configure `}<em parentName=\"a\">{`kubectl`}</em></a></li>\n            </ul></li>\n        </ul></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"eks-setup-process\"\n    }}>{`EKS Setup Process`}</h2>\n    <p>{`EKS will setup and manage our Kubernetes clusters:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`This will create K8s master in high availability`}</li>\n      <li parentName=\"ul\">{`Etcd in high availability`}</li>\n      <li parentName=\"ul\">{`IAM plugin setup`}</li>\n      <li parentName=\"ul\">{`CA setup (for TLS)`}</li>\n      <li parentName=\"ul\">{`Auto scaling done`}</li>\n      <li parentName=\"ul\">{`Load Balancers done (NLB and ELB)`}</li>\n    </ul>\n    <p>{`In short, you will get an EKS control plane and you'll just need to setup the worker nodes in the availability zones.`}</p>\n    <p>{`The from the laptop, you can use kubectl to talk to AWS.`}</p>\n    <p>{`There is also deep integration with AWS:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`API calls can be audited in CloudTrail`}</li>\n      <li parentName=\"ul\">{`Authetication through IAM while authorization through RBAC.`}</li>\n      <li parentName=\"ul\">{`CloudFormation to manage clusteres`}</li>\n      <li parentName=\"ul\">{`Customize AMI`}</li>\n      <li parentName=\"ul\">{`Load Balancers, EBS Volumes, EFS, etc...`}</li>\n      <li parentName=\"ul\">{`Container registies on ECR`}</li>\n      <li parentName=\"ul\">{`Networking is handled with a per-pod IP address with attached ENI`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"eks-use-cases\"\n    }}>{`EKS Use cases`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Can create a cluster easily`}</li>\n      <li parentName=\"ul\">{`Microservices in containers`}</li>\n      <li parentName=\"ul\">{`Paas/Website`}</li>\n      <li parentName=\"ul\">{`Migrate from on-prem to cloud`}</li>\n      <li parentName=\"ul\">{`ML cluster (support for GPU instances)`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"the-course\"\n    }}>{`The Course`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Deploy EKS cluster using CF`}</li>\n      <li parentName=\"ul\">{`Scale Kubernetes cluster`}</li>\n      <li parentName=\"ul\">{`Setup `}<inlineCode parentName=\"li\">{`kubectl`}</inlineCode>{` properly`}</li>\n      <li parentName=\"ul\">{`Learn how EKS works under the hood`}</li>\n      <li parentName=\"ul\">{`Setup admin using Kubernetes dashboard`}</li>\n      <li parentName=\"ul\">{`Deploy stateless app on EKS and expose it with public ELB`}</li>\n      <li parentName=\"ul\">{`Deploy stateful app on EKS and bind it with EBS volumes`}</li>\n      <li parentName=\"ul\">{`Deploy stateful app (like WordPress) with EFS`}</li>\n      <li parentName=\"ul\">{`Manage Kubernetes cluster using AWS CLI and `}<inlineCode parentName=\"li\">{`eksctl`}</inlineCode>{` CLI`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"eks-architecture\"\n    }}>{`EKS Architecture`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`3 AZs`}</li>\n      <li parentName=\"ul\">{`Master node in each`}</li>\n      <li parentName=\"ul\">{`Etcd in each`}</li>\n      <li parentName=\"ul\">{`K8s worker nodes`}</li>\n    </ul>\n    <p><img alt=\"EKS Architecture\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548135634/eks-course/Screen_Shot_2019-01-22_at_4.39.24_pm.png\" /></p>\n    <p>{`EKS itself will manage all the load and master nodes and etcd as needed.`}</p>\n    <h3 {...{\n      \"id\": \"basic-eks-setup\"\n    }}>{`Basic EKS Setup`}</h3>\n    <p><img alt=\"Basic setup\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548135634/eks-course/Screen_Shot_2019-01-22_at_4.39.24_pm.png\" /></p>\n    <h2 {...{\n      \"id\": \"setup-for-the-eks-cluster\"\n    }}>{`Setup for the EKS cluster`}</h2>\n    <h2 {...{\n      \"id\": \"iam-user-roles\"\n    }}>{`IAM User roles`}</h2>\n    <h4 {...{\n      \"id\": \"iam-user-and-permissions\"\n    }}>{`IAM user and permissions`}</h4>\n    <p>{`To be able to run through this course your IAM user needs to have certain privileges to e.g. create all the required resources and objects. According AWS Best Practices you should `}<em parentName=\"p\">{`never`}</em>{` use your root account for working with AWS services. E.g. to demonstrate the Hands-On lectures, the user `}<em parentName=\"p\">{`eks-course`}</em>{` has been used.`}</p>\n    <p>{`There are 2 attempts to follow:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Provide admin access\nlogin with an admin of your AWS account\ngo to \"IAM\" => \"users\" => click on your user => \"Permissions\" => \"Add permission\" => then search for `}<em parentName=\"li\">{`AdministratorAccess`}</em>{` and attach this policy\nBasically your user just requires `}<em parentName=\"li\">{`one`}</em>{` policy being attached`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\">{`AdministratorAccess`}</li>\n    </ul>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`Provide a dedicated list of privileges/policies\nto cover all the required privileges, first you have to create additional policies\nEKS-Admin-policy:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\"eks:*\"],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n`}</code></pre>\n    <p>{`CloudFormation-Admin-policy:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\"cloudformation:*\"],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n`}</code></pre>\n    <p>{`Finally, assign the following policies to your IAM user you are going to use throughout the course:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`AmazonEC2FullAccess`}</li>\n      <li parentName=\"ul\">{`IAMFullAccess`}</li>\n      <li parentName=\"ul\">{`AmazonVPCFullAccess`}</li>\n      <li parentName=\"ul\">{`CloudFormation-Admin-policy`}</li>\n      <li parentName=\"ul\">{`EKS-Admin-policy\nwhere the last 2 policies are the ones you created above`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"create-iam-role\"\n    }}>{`Create IAM role`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`open `}<inlineCode parentName=\"li\">{`https://console.aws.amazon.com/iam/`}</inlineCode>{` and choose `}<em parentName=\"li\">{`Roles`}</em>{` => `}<em parentName=\"li\">{`create role`}</em></li>\n      <li parentName=\"ul\">{`choose `}<em parentName=\"li\">{`EKS`}</em>{` service followed by `}<em parentName=\"li\">{`Allows Amazon EKS to manage your clusters on your behalf`}</em></li>\n      <li parentName=\"ul\">{`choose `}<em parentName=\"li\">{`Next: Permissions`}</em></li>\n      <li parentName=\"ul\">{`click `}<em parentName=\"li\">{`Next: Review`}</em></li>\n      <li parentName=\"ul\">{`enter a `}<em parentName=\"li\">{`unique`}</em>{` Role name, `}<em parentName=\"li\">{`EKS-course-role`}</em>{` and click `}<em parentName=\"li\"><em parentName=\"em\">{`Create Role`}</em></em></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"create-keypair\"\n    }}>{`Create keypair`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`open EC2 dashboard `}<inlineCode parentName=\"li\">{`https://console.aws.amazon.com/ec2`}</inlineCode></li>\n      <li parentName=\"ul\">{`click `}<em parentName=\"li\">{`KeyPairs`}</em>{` in left navigation bar under section \"Network&Security\"`}</li>\n      <li parentName=\"ul\">{`click `}<em parentName=\"li\">{`Create Key Pair`}</em></li>\n      <li parentName=\"ul\">{`provide name for keypair, `}<em parentName=\"li\">{`eks-course`}</em>{` and click `}<em parentName=\"li\"><em parentName=\"em\">{`Create`}</em></em></li>\n      <li parentName=\"ul\">{`!! the keypair will be downloaded immediately => file `}<em parentName=\"li\">{`eks-course.pem`}</em>{` !!`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"create-api-access-key-secret\"\n    }}>{`Create API Access key/-secret`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`create key+secret via AWS console`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`AWS-console => IAM => Users => <your user> => tab _Security credentials_ => button _Create access key_\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"create-base-aws-infrastructure\"\n    }}>{`Create base AWS infrastructure`}</h2>\n    <h3 {...{\n      \"id\": \"create-vpc-subnets-and-security-group-for-your-k8s-cluster\"\n    }}>{`Create VPC, subnets and security group for your K8s cluster`}</h3>\n    <p><img alt=\"AWS EKS Cluster setup\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548137228/eks-course/Screen_Shot_2019-01-22_at_5.06.52_pm.png\" /></p>\n    <p>{`To create a VPC there is a prepared CloudFormation template to use. It creates a VPC including 3 Subnets\nAt the moment EKS is only available in the following 2 regions:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`US West (Oregon), `}<em parentName=\"li\">{`us-west-2`}</em></li>\n      <li parentName=\"ul\">{`US East (N.Virginia), `}<em parentName=\"li\">{`us-east-1`}</em></li>\n    </ul>\n    <h4 {...{\n      \"id\": \"working-on-the-console\"\n    }}>{`Working on the console`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`open `}<inlineCode parentName=\"li\">{`https://console.aws.amazon.com/cloudformation/`}</inlineCode>{` and select one of the above mentioned regions`}</li>\n      <li parentName=\"ul\">{`click `}<em parentName=\"li\">{`Create Stack`}</em></li>\n      <li parentName=\"ul\">{`select `}<em parentName=\"li\">{`Upload a template to Amazon S3`}</em>{` , click `}<em parentName=\"li\"><em parentName=\"em\">{`Upload file`}</em></em>{` and select `}<inlineCode parentName=\"li\">{`eks-course-vpc.yaml`}</inlineCode></li>\n      <li parentName=\"ul\">{`click `}<em parentName=\"li\">{`Next`}</em></li>\n      <li parentName=\"ul\">{`provide data in the `}<em parentName=\"li\">{`Specify Details`}</em>{` overview:`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`# eks-course-vpc.yaml\n---\nAWSTemplateFormatVersion: '2010-09-09'\nDescription: 'AWS EKS course'\n\nParameters:\n  VpcBlock:\n    Type: String\n    Default: 192.168.0.0/16\n    Description: CIDR range for VPC\n\n  Subnet01Block:\n    Type: String\n    Default: 192.168.64.0/18\n    Description: CIDR for first subnet within VPC\n\n  Subnet02Block:\n    Type: String\n    Default: 192.168.128.0/18\n    Description: CIDR for second subnet within VPC\n\n  Subnet03Block:\n    Type: String\n    Default: 192.168.192.0/18\n    Description: CIDR for third subnet within VPC\n\nResources:\n  VPC:\n    Type: AWS::EC2::VPC\n    Properties:\n      CidrBlock: !Ref VpcBlock\n      EnableDnsSupport: true\n      EnableDnsHostnames: true\n      Tags:\n        - Key: Name\n          Value: !Sub '\\${AWS::StackName}-VPC'\n\n  InternetGateway:\n    Type: 'AWS::EC2::InternetGateway'\n\n  VPCGatewayAttachment:\n    Type: 'AWS::EC2::VPCGatewayAttachment'\n    Properties:\n      InternetGatewayId: !Ref InternetGateway\n      VpcId: !Ref VPC\n\n  RouteTable:\n    Type: AWS::EC2::RouteTable\n    Properties:\n      VpcId: !Ref VPC\n      Tags:\n        - Key: Name\n          Value: Public Subnets\n        - Key: Network\n          Value: Public\n\n  Route:\n    DependsOn: VPCGatewayAttachment\n    Type: AWS::EC2::Route\n    Properties:\n      RouteTableId: !Ref RouteTable\n      DestinationCidrBlock: 0.0.0.0/0\n      GatewayId: !Ref InternetGateway\n\n  Subnet01:\n    Type: AWS::EC2::Subnet\n    Properties:\n      AvailabilityZone:\n        Fn::Select:\n          - '0'\n          - Fn::GetAZs:\n              Ref: AWS::Region\n      CidrBlock:\n        Ref: Subnet01Block\n      VpcId:\n        Ref: VPC\n      Tags:\n        - Key: Name\n          Value: !Sub '\\${AWS::StackName}-Subnet1'\n\n  Subnet02:\n    Type: AWS::EC2::Subnet\n    Properties:\n      AvailabilityZone:\n        Fn::Select:\n          - '1'\n          - Fn::GetAZs:\n              Ref: AWS::Region\n      CidrBlock:\n        Ref: Subnet02Block\n      VpcId:\n        Ref: VPC\n      Tags:\n        - Key: Name\n          Value: !Sub '\\${AWS::StackName}-Subnet2'\n\n  Subnet03:\n    Type: AWS::EC2::Subnet\n\n    Properties:\n      AvailabilityZone:\n        Fn::Select:\n          - '2'\n          - Fn::GetAZs:\n              Ref: AWS::Region\n      CidrBlock:\n        Ref: Subnet03Block\n      VpcId:\n        Ref: VPC\n      Tags:\n        - Key: Name\n          Value: !Sub '\\${AWS::StackName}-Subnet3'\n\n  Subnet01RouteTableAssociation:\n    Type: AWS::EC2::SubnetRouteTableAssociation\n    Properties:\n      SubnetId: !Ref Subnet01\n      RouteTableId: !Ref RouteTable\n\n  Subnet02RouteTableAssociation:\n    Type: AWS::EC2::SubnetRouteTableAssociation\n    Properties:\n      SubnetId: !Ref Subnet02\n      RouteTableId: !Ref RouteTable\n\n  Subnet03RouteTableAssociation:\n    Type: AWS::EC2::SubnetRouteTableAssociation\n    Properties:\n      SubnetId: !Ref Subnet03\n      RouteTableId: !Ref RouteTable\n\n  ControlPlaneSecurityGroup:\n    Type: AWS::EC2::SecurityGroup\n    Properties:\n      GroupDescription: Cluster communication with worker nodes\n      VpcId: !Ref VPC\n\nOutputs:\n  SubnetIds:\n    Description: Your subnets\n    Value: !Join [',', [!Ref Subnet01, !Ref Subnet02, !Ref Subnet03]]\n\n  SecurityGroups:\n    Description: SecGroup for communication betw controlplane and workernodes\n    Value: !Join [',', [!Ref ControlPlaneSecurityGroup]]\n\n  VpcId:\n    Description: The VPC Id\n    Value: !Ref VPC\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"setting-stack-name\"\n    }}>{`Setting stack name`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Stack name : set stack name `}<em parentName=\"li\">{`EKS-course-stack`}</em></li>\n      <li parentName=\"ul\">{`VPC Block : set CIDR range for your VPC, or leave the default from the CloudFormation template`}</li>\n      <li parentName=\"ul\">{`Subnet01Block : set CIDR range for this subnet, or leave the default from the CloudFormation template`}</li>\n      <li parentName=\"ul\">{`Subnet02Block : set CIDR range for this subnet, or leave the default from the CloudFormation template`}</li>\n      <li parentName=\"ul\">{`Subnet03Block : set CIDR range for this subnet, or leave the default from the CloudFormation template`}</li>\n    </ul>\n    <h4 {...{\n      \"id\": \"continuing-on\"\n    }}>{`Continuing on`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Click `}<em parentName=\"li\">{`Next`}</em></li>\n      <li parentName=\"ul\">{`Click `}<em parentName=\"li\">{`Create`}</em></li>\n      <li parentName=\"ul\">{`Observe the progress of the stack creation. After the stack is created, open tab `}<em parentName=\"li\">{`Outputs`}</em>{` and record the `}<em parentName=\"li\">{`VPC-ID`}</em>{`, `}<em parentName=\"li\">{`SecurityGroup`}</em>{` and the `}<em parentName=\"li\">{`Subnet_IDs`}</em>{` for all 3 subnets. You'll need those at worker launch time.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"creating-the-eks-control-plane\"\n    }}>{`Creating the EKS control plane`}</h2>\n    <h3 {...{\n      \"id\": \"via-cli\"\n    }}>{`Via CLI`}</h3>\n    <pre><code parentName=\"pre\" {...{}}>{`aws eks create-cluster --name prod --role-arn arn:aws:iam::012345678910:role/eks-service-role-AWSServiceRoleForAmazonEKS-J7ONKE3BQ4PI --resources-vpc-config subnetIds=subnet-6782e71e,subnet-e7e761ac,securityGroupIds=sg-6979fe18\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"via-gui\"\n    }}>{`Via GUI`}</h3>\n    <p><img alt=\"EKS Control Plane\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548137849/eks-course/Screen_Shot_2019-01-22_at_5.17.00_pm.png\" /></p>\n    <p>{`Kubernetes API server is a AWS service, hence it doesn't need dedicated EC2 instances to run.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Open the EKS overview page in AWS Management console, `}<inlineCode parentName=\"li\">{`https://console.aws.amazon.com/eks/home#/clusters`}</inlineCode>{` and click `}<em parentName=\"li\">{`Create Cluster`}</em>{`.`}</li>\n    </ul>\n    <p>{`Populate the following fields:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Cluster name : enter a unique name, `}<em parentName=\"li\">{`EKS-course-cluster`}</em></li>\n      <li parentName=\"ul\">{`Kubernetes version : by default the latest available version is preselected`}</li>\n      <li parentName=\"ul\">{`Role ARN : select the IAM Role you created in the first Hands-On lesson `}<em parentName=\"li\">{`Part I: cover prerequisites`}</em></li>\n      <li parentName=\"ul\">{`VPC : select the VPC-ID from the dropdown box which was created in the first Hands-On lesson `}<em parentName=\"li\">{`Part II: create base AWS infrastructure`}</em></li>\n      <li parentName=\"ul\">{`Subnets : provide the comma separated Subnet-IDs you recorded in the previous step`}</li>\n      <li parentName=\"ul\">{`SecurityGroup : select the security group (it has name `}<em parentName=\"li\">{`ControlPlaneSecurityGroup`}</em>{` ) which has been created in Hands-On `}<em parentName=\"li\">{`Part II: create base AWS infrastructure`}</em></li>\n    </ul>\n    <p>{`Then for creation:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`click `}<em parentName=\"li\">{`Create`}</em></li>\n      <li parentName=\"ul\">{`on the `}<em parentName=\"li\">{`Clusters`}</em>{` overview page, observe field `}<em parentName=\"li\"><em parentName=\"em\">{`Status`}</em></em>{` until cluster creation is finished.`}</li>\n    </ul>\n    <p>{`Click on your clustername, and record the `}<em parentName=\"p\">{`API server endpoint`}</em>{` and `}<em parentName=\"p\">{`Certificate authority`}</em>{` values to configure `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{` in the next Hands-On `}<em parentName=\"p\">{`Part IV: install & configure kubectl`}</em>{`.`}</p>\n    <h2 {...{\n      \"id\": \"setting-up-local-kubectl-for-eks\"\n    }}>{`Setting up local kubectl for EKS`}</h2>\n    <h3 {...{\n      \"id\": \"recap-on-the-kubectl-setup\"\n    }}>{`Recap on the kubectl setup`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`kubectl`}</inlineCode>{` relies on the `}<inlineCode parentName=\"li\">{`kubectl config file`}</inlineCode></li>\n      <li parentName=\"ul\">{`That relies on the EKS endpoint and User authentication`}</li>\n      <li parentName=\"ul\">{`Use auth depends on `}<inlineCode parentName=\"li\">{`aws-iam-authenticator`}</inlineCode>{` executable`}</li>\n      <li parentName=\"ul\">{`This generates an auth token based on the `}<inlineCode parentName=\"li\">{`aws credentials file`}</inlineCode></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"install-kubectl--aws-iam_authenticator\"\n    }}>{`Install kubectl & aws-iam_authenticator`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`kubectl`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`on RH based Linux: `}<inlineCode parentName=\"li\">{`sudo dnf install kubernetes-client`}</inlineCode><ul parentName=\"li\">\n              <li parentName=\"ul\">{`check: `}<inlineCode parentName=\"li\">{`kubectl version --short --client`}</inlineCode></li>\n            </ul></li>\n          <li parentName=\"ul\">{`on Windows, open a terminal emulator, preferrably MobaXterm:`}</li>\n        </ul>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl -k -# -o kubectl.exe https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/windows/amd64/kubectl.exe\nchmod +x kubectl.exe\nmkdir $HOME/bin\nmv kubectl.exe $HOME/bin\necho 'export PATH=$HOME/bin:$PATH' >> ~/.bashrc\nsource .bashrc\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`check: `}<inlineCode parentName=\"li\">{`kubectl.exe version --short --client`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`aws-iam-authenticator`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`on Linux:`}</li>\n        </ul>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl -o aws-iam-authenticator https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/linux/amd64/aws-iam-authenticator\nchmod +x ./aws-iam-authenticator\ncp ./aws-iam-authenticator /usr/local/bin/\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Test: `}<inlineCode parentName=\"p\">{`aws-iam-authenticator help`}</inlineCode></p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`on Windows, open a terminal emulator, preferrably MobaXterm:`}</p>\n          </li>\n        </ul>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl -k -# -o aws-iam-authenticator.exe  https://amazon-eks.s3-us-west-2.amazonaws.com/1.10.3/2018-07-26/bin/windows/amd64/aws-iam-authenticator.exe\nchmod +x aws-iam-authenticator.exe\nmv aws-iam-authenticator.exe $HOME/bin\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Test: `}<inlineCode parentName=\"li\">{`aws-iam-authenticator.exe help`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`aws credentials (ACCESS KEY+SECRET)\nnow we have to provide the Access key+secret from the first lesson `}<em parentName=\"p\">{`Part I : covering prerequisites`}</em>{` and put them into the credentials template.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`* populate aws credentials file\n  copy the provided file named _credentials_ to\n  * WINDOWS cygwin: \\`\\`\\`mkdir $HOMEPATH/.aws && vi $HOMEPATH/.aws/credentials\\`\\`\\`\n  * Linux: \\`\\`\\`~/.aws/credentials\\`\\`\\`\n  and set the properties _aws_access_key_id_ and _aws_secret_access_key_\n`}</code></pre>\n      </li>\n    </ul>\n    <h3 {...{\n      \"id\": \"configure-kubectl\"\n    }}>{`Configure `}<em parentName=\"h3\">{`kubectl`}</em></h3>\n    <p>{`in this step we are creating a configuration file for the binary `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{`, which is the main tool to interact with Kubernetes later on.`}</p>\n    <p>{`Use template file `}<em parentName=\"p\">{`kube-config-eks`}</em>{` and copy it to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Linux: `}<inlineCode parentName=\"li\">{`~/.kube/kube-config-eks`}</inlineCode></li>\n      <li parentName=\"ul\">{`Windows (cygwin): `}<inlineCode parentName=\"li\">{`mkdir $HOMEPATH/.kube && vi $HOMEPATH/.kube/kube-config-eks`}</inlineCode></li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`apiVersion: v1\nclusters:\n  - cluster:\n      server: <endpoint-url>\n      certificate-authority-data: <base64-encoded-ca-cert>\n    name: kubernetes\ncontexts:\n  - context:\n      cluster: kubernetes\n      user: aws\n    name: aws\ncurrent-context: aws\nkind: Config\npreferences: {}\nusers:\n  - name: aws\n    user:\n      exec:\n        apiVersion: client.authentication.k8s.io/v1alpha1\n        command: aws-iam-authenticator\n        args:\n          - 'token'\n          - '-i'\n          - 'EKS-course-cluster'\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`edit file `}<inlineCode parentName=\"p\">{`kube-config-eks`}</inlineCode>{` and replace `}<em parentName=\"p\">{`endpoint-url`}</em>{`, `}<em parentName=\"p\">{`base64-encoded-ca-cert`}</em>{` by the values you recorded in the Hands-On lesson 3 `}<em parentName=\"p\">{`Part III: create the K8s control plane`}</em>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Linux : `}<inlineCode parentName=\"p\">{`export KUBECONFIG=~/.kube/kube-config-eks`}</inlineCode>{`\nWindows : `}<inlineCode parentName=\"p\">{`export KUBECONFIG=$HOMEPATH/.kube/kube-config-eks`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Test connectivity and access:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`#>kubectl get svc\nNAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE\nkubernetes   ClusterIP   xxxxxxxxx    <none>        443/TCP   4m\n`}</code></pre>\n        <p parentName=\"li\">{`command to check the config for kubectl: `}<inlineCode parentName=\"p\">{`kubectl config view`}</inlineCode></p>\n      </li>\n    </ul>\n    <p>{`Now you successfully talked to the K8s control plane on AWS`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}