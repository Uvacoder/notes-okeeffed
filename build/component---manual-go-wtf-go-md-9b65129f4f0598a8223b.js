(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{"8USE":function(n,e,a){"use strict";a.r(e),a.d(e,"_frontmatter",(function(){return l})),a.d(e,"default",(function(){return b}));a("1c7q"),a("abGl"),a("gZHo"),a("Fdmb"),a("Ir+3"),a("2mQt"),a("mXGw");var t=a("/FXl"),r=a("TjRS");a("aD51");function i(){return(i=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n}).apply(this,arguments)}var l={};void 0!==l&&l&&l===Object(l)&&Object.isExtensible(l)&&!l.hasOwnProperty("__filemeta")&&Object.defineProperty(l,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"manual/Go/Wtf-Go.md"}});var c={_frontmatter:l},o=r.a;function b(n){var e=n.components,a=function(n,e){if(null==n)return{};var a,t,r={},i=Object.keys(n);for(t=0;t<i.length;t++)a=i[t],e.indexOf(a)>=0||(r[a]=n[a]);return r}(n,["components"]);return Object(t.b)(o,i({},c,a,{components:e,mdxType:"MDXLayout"}),Object(t.b)("h1",{id:"wtf-go"},"WTF Go"),Object(t.b)("h2",{id:"resources"},"Resources"),Object(t.b)("ol",null,Object(t.b)("li",{parentName:"ol"},Object(t.b)("a",i({parentName:"li"},{href:"http://devs.cloudimmunity.com/gotchas-and-common-mistakes-in-go-golang/"}),"Gotchas and common mistakes in Go")),Object(t.b)("li",{parentName:"ol"},Object(t.b)("a",i({parentName:"li"},{href:"https://github.com/golang/go/wiki/CommonMistakes"}),"Common Mistakes - Golang GitHub"))),Object(t.b)("h2",{id:"cant-use-nil-to-initialize-a-variable-without-an-explicit-type"},'Can\'t Use "nil" to Initialize a Variable Without an Explicit Type'),Object(t.b)("p",null,"Fails:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),"package main\n\nfunc main() {\n    var x = nil //error\n\n    _ = x\n}\n")),Object(t.b)("blockquote",null,Object(t.b)("p",{parentName:"blockquote"},"/tmp/sandbox188239583/main.go:4: use of untyped nil")),Object(t.b)("p",null,"Works:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),"package main\n\nfunc main() {\n    var x interface{} = nil\n\n    _ = x\n}\n")),Object(t.b)("h2",{id:"using-nil-slices-and-maps"},'Using "nil" Slices and Maps'),Object(t.b)("p",null,'It\'s OK to add items to a "nil" slice, but doing the same with a map will produce a runtime panic.'),Object(t.b)("p",null,"Fails:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nfunc main() {\n    var m map[string]int\n    m["one"] = 1 //error\n}\n')),Object(t.b)("p",null,"Works:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),"package main\n\nfunc main() {\n    var s []int\n    s = append(s,1)\n}\n")),Object(t.b)("h2",{id:"map-capacity"},"Map Capacity"),Object(t.b)("p",null,"You can specify map capacity when created, but you can't use the ",Object(t.b)("inlineCode",{parentName:"p"},"cap()")," function on maps."),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nimport (\n   "fmt"\n)\n\nfunc main() {\n   a := make([]int, 99)\n   fmt.Println(cap(a)) // 99\n\n   b := make(map[string]int, 99)\n   fmt.Println(len(b)) // 0\n   fmt.Println(cap(b)) // error: ./prog.go:12:17: invalid argument b (type map[string]int) for cap\n}\n')),Object(t.b)("h2",{id:"string-cant-be-nil"},"String can't be nil"),Object(t.b)("p",null,"Fails:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nfunc main() {\n    var x string = nil //error\n\n    if x == nil { //error\n        x = "default"\n    }\n}\n')),Object(t.b)("blockquote",null,Object(t.b)("p",{parentName:"blockquote"},"/tmp/sandbox630560459/main.go:4: cannot use nil as type string in assignment\n/tmp/sandbox630560459/main.go:6: invalid operation: x == nil (mismatched types string and nil)")),Object(t.b)("p",null,"Works:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nfunc main() {\n    var x string //defaults to "" (zero value)\n\n    if x == "" {\n        x = "default"\n    }\n}\n')),Object(t.b)("h2",{id:"array-func-args"},"Array Func Args"),Object(t.b)("p",null,"If you are a C or C++ developer arrays for you are pointers. When you pass arrays to functions the functions reference the same memory location, so they can update the original data. Arrays in Go are values, so when you pass arrays to functions the functions get a copy of the original array data. This can be a problem if you are trying to update the array data."),Object(t.b)("p",null,"Fails:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nimport "fmt"\n\nfunc main() {\n    x := [3]int{1,2,3}\n\n    func(arr [3]int) {\n        arr[0] = 7\n        fmt.Println(arr) //prints [7 2 3]\n    }(x)\n\n    fmt.Println(x) //prints [1 2 3] (not ok if you need [7 2 3])\n}\n')),Object(t.b)("p",null,"Works:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nimport "fmt"\n\nfunc main() {\n    x := [3]int{1,2,3}\n\n    func(arr *[3]int) {\n        (*arr)[0] = 7\n        fmt.Println(arr) //prints &[7 2 3]\n    }(&x)\n\n    fmt.Println(x) //prints [7 2 3]\n}\n')),Object(t.b)("p",null,"Another option is to use slices. Even though your function gets a copy of the slice variable it still references the original data."),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nimport "fmt"\n\nfunc main() {\n    x := []int{1,2,3}\n\n    func(arr []int) {\n        arr[0] = 7\n        fmt.Println(arr) //prints [7 2 3]\n    }(x)\n\n    fmt.Println(x) //prints [7 2 3]\n}\n')),Object(t.b)("h2",{id:"unexpected-values-in-slice-and-array-range-clauses"},'Unexpected Values in Slice and Array "range" Clauses'),Object(t.b)("p",null,Object(t.b)("a",i({parentName:"p"},{href:"http://devs.cloudimmunity.com/gotchas-and-common-mistakes-in-go-golang/"}),"Continue")),Object(t.b)("h2",{id:"strings-are-immutable"},"Strings Are Immutable"),Object(t.b)("p",null,"Fails:"),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nimport "fmt"\n\nfunc main() {\n    x := "text"\n    x[0] = \'T\'\n\n    fmt.Println(x)\n}\n')),Object(t.b)("blockquote",null,Object(t.b)("p",{parentName:"blockquote"},"/tmp/sandbox305565531/main.go:7: cannot assign to x","[0]")),Object(t.b)("pre",null,Object(t.b)("code",i({parentName:"pre"},{className:"language-golang"}),'package main\n\nimport "fmt"\n\nfunc main() {\n    x := "text"\n    xbytes := []byte(x)\n    xbytes[0] = \'T\'\n\n    fmt.Println(string(xbytes)) //prints Text\n}\n')))}b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"manual/Go/Wtf-Go.md"}}),b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---manual-go-wtf-go-md-9b65129f4f0598a8223b.js.map