(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"2xFE":function(e,n,t){"use strict";t.r(n),t.d(n,"_frontmatter",(function(){return o})),t.d(n,"default",(function(){return c}));t("1c7q"),t("abGl"),t("gZHo"),t("Fdmb"),t("Ir+3"),t("2mQt"),t("mXGw");var a=t("/FXl"),i=t("TjRS");t("aD51");function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var o={};void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"manual/Amplify/Graphql-Setup.md"}});var p={_frontmatter:o},s=i.a;function c(e){var n=e.components,t=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,["components"]);return Object(a.b)(s,r({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"graphql-setup"},"GraphQL Setup"),Object(a.b)("h2",{id:"links"},"Links"),Object(a.b)("p",null,Object(a.b)("a",r({parentName:"p"},{href:"https://blog.expo.io/how-to-build-cloud-powered-mobile-apps-with-expo-aws-amplify-2fddc898f9a2"}),"https://blog.expo.io/how-to-build-cloud-powered-mobile-apps-with-expo-aws-amplify-2fddc898f9a2"),"\n",Object(a.b)("a",r({parentName:"p"},{href:"https://hackernoon.com/introducing-the-aws-amplify-graphql-client-8a1a1e514fde"}),"https://hackernoon.com/introducing-the-aws-amplify-graphql-client-8a1a1e514fde")),Object(a.b)("h2",{id:"to-get-it-running"},"To get it running"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-bash"}),"amplify init\namplify add api\n# > GraphQL\n# > name\n# > API Key\n# > No\n# > Yes\n# Select single or one-to-many\n# y\n")),Object(a.b)("p",null,"Not that you can preset a schema to have used for Amplify."),Object(a.b)("p",null,"Example, create a ",Object(a.b)("inlineCode",{parentName:"p"},"schema.graphql")," file with following and pass the path during setup:"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-javascript"}),"type Pet @model {\n  id: ID!\n  name: String!\n  description: String\n  hello: String\n}\n")),Object(a.b)("h3",{id:"example-schema"},"Example schema"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-javascript"}),"type Pet @model {\n  id: ID!\n  name: String!\n  description: String\n}\n")),Object(a.b)("h3",{id:"example-mutation"},"Example mutation"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-javascript"}),"import API, { graphqlOperation } from '@aws-amplify/api';\n\n// define mutation\nconst createPet = `\n  mutation($name: String!, $description: String) {\n    createPet(input: {\n      name: $name\n      description: $description\n  }) {\n    id\n    name\n    description\n  }\n}`;\n// execute a mutation\nstate = { name: '' };\nonChangeText = (value) => {\n  this.setState({ name: value });\n};\ncreatePet = async () => {\n  const pet = this.state;\n  await API.graphql(graphqlOperation(createPet, pet));\n};\n")),Object(a.b)("h3",{id:"example-query"},"Example query"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-javascript"}),"// define query\nconst listPets = `\n  query {\n    listPets {\n      items {\n        id\n        name\n        description\n      }\n    }\n }\n`\n// execute query\ngetPets = () => {\n  const data = await API.graphql(graphqlOperation(listPets))\n  // do something with data\n}\n")),Object(a.b)("h2",{id:"autogenerating-code-for-the-schema"},"Autogenerating code for the schema"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-bash"}),"amplify codegen add\n")),Object(a.b)("h2",{id:"1-many-many-to-many-relationship-schemas"},"1-many, many-to-many relationship schemas"),Object(a.b)("pre",null,Object(a.b)("code",r({parentName:"pre"},{className:"language-javascript"}),'type Post @model {\n  id: ID!\n  title: String!\n  editors: [PostEditor] @connection(name: "PostEditors")\n}\n# Create a join model and disable queries as you don\'t need them\n# and can query through Post.editors and User.posts\ntype PostEditor @model(queries: null) {\n  id: ID!\n  post: Post! @connection(name: "PostEditors")\n  editor: User! @connection(name: "UserEditors")\n}\ntype User @model {\n  id: ID!\n  username: String!\n  posts: [PostEditor] @connection(name: "UserEditors")\n}\n')))}c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"manual/Amplify/Graphql-Setup.md"}}),c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---manual-amplify-graphql-setup-md-7c2ae9221ea8a9cf02d1.js.map