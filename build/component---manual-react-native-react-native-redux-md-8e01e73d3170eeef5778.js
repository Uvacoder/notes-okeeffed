(window.webpackJsonp=window.webpackJsonp||[]).push([[459],{unQR:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return i})),n.d(t,"default",(function(){return s}));n("1c7q"),n("abGl"),n("gZHo"),n("Fdmb"),n("Ir+3"),n("2mQt"),n("mXGw");var a=n("/FXl"),r=n("TjRS");n("aD51");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i={};void 0!==i&&i&&i===Object(i)&&Object.isExtensible(i)&&!i.hasOwnProperty("__filemeta")&&Object.defineProperty(i,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"manual/React-Native/React-Native-Redux.md"}});var l={_frontmatter:i},c=r.a;function s(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(a.b)(c,o({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"react-native-with-redux"},"React Native with Redux"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",o({parentName:"li"},{href:"#react-native-with-redux"}),"React Native with Redux"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-1-intro"}),"RNREDUX-1: Intro"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-2-react-native-101"}),"RNREDUX-2: React Native 101"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-21-project-directoryscreen-content"}),"RNREDUX-2.1: Project Directory/Screen Content"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-22-react-vs-react-native"}),"RNREDUX-2.2: React vs React Native"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-4-http-requests-with-react-native"}),"RNREDUX-4: HTTP Requests with React Native"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-41-sourcing-album-data"}),"RNREDUX-4.1: Sourcing Album Data"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-42-functional-component-vs-class-component"}),"RNREDUX-4.2: Functional Component vs Class Component"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-43-fetching-data-with-lifecycle-methods"}),"RNREDUX-4.3: Fetching Data with Lifecycle Methods"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-44-rendering-a-list-of-components"}),"RNREDUX-4.4: Rendering a List of Components"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-45-creating-reusable-components"}),"RNREDUX-4.5: Creating Reusable Components"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-45-turn-a-component-into-sections"}),"RNREDUX-4.5: Turn a Component into Sections"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-5-handling-component-layout"}),"RNREDUX-5: Handling Component Layout"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-51-mastering-layout-with-flexbox"}),"RNREDUX-5.1: Mastering Layout with Flexbox"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-52-making-content-scrollable-and-handling-input"}),"RNREDUX-5.2: Making Content Scrollable and Handling Input"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-53-responding-to-user-input"}),"RNREDUX-5.3: Responding to User Input"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-8-redux-inside-of-react-native"}),"RNREDUX-8: Redux inside of React Native"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-81-redux-boilerplate"}),"RNREDUX-8.1: Redux Boilerplate"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#rnredux-82-reducer-and-state-design"}),"RNREDUX-8.2: Reducer and State Design"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#redux-thunk"}),"Redux Thunk"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#dealing-with-navigation"}),"Dealing with Navigation"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#navigation-in-the-router"}),"Navigation in the Router"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#navigating-between-routes"}),"Navigating between routes"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#grouping-scenes-with-buckets"}),"Grouping Scenes with 'Buckets'"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#actions-to-navigate-between-buckets"}),"Actions to navigate between buckets"),"\n- ",Object(a.b)("a",o({parentName:"li"},{href:"#form-updates-at-a-reducer-level--dynamic-property-updates"}),"Form updates at a reducer level / Dynamic Property updates"))),Object(a.b)("h2",{id:"rnredux-1-intro"},"RNREDUX-1: Intro"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Roadmap")),Object(a.b)("p",null,"Setting up RN for iOS and Android."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Installing the Dependencies for OSX")),Object(a.b)("h2",{id:"rnredux-2-react-native-101"},"RNREDUX-2: React Native 101"),Object(a.b)("h2",{id:"rnredux-21-project-directoryscreen-content"},"RNREDUX-2.1: Project Directory/Screen Content"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"ios and android")),Object(a.b)("p",null,"The project folders rarely need to be adjusted unless we want to work at a low-level."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"index.ios.js vs index.android.js")),Object(a.b)("p",null,"Entry points for our applications. When Android or iOS run, these two files are the first platform entry points respectively."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Steps for components")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"// Import a library to help create a component\n\nimport React from 'react';\n// destructuring\n// import ReactNative from 'react-native';\nimport { Text, AppRegistry } from 'react-native';\n\n// Create a component\n// if we are returning just one statement, we can get rid of the curly braces\n// and the return statement - not an error! ES lint issue.\n\nconst App => () => {\n    return (\n        <Text>Some Text</Text>\n    );\n}\n\n// ^ this will become...\n\nconst App => () => (\n    <Text>Some Text</Text>\n);\n\n// Render it to the device\n// name 'albums' must correlate to name of the project\n// also destructure ReactNative.AppRegistry.registerComponent('albums', () => App);\nAppRegistry.registerComponent('albums', () => App);\n")),Object(a.b)("h2",{id:"rnredux-22-react-vs-react-native"},"RNREDUX-2.2: React vs React Native"),Object(a.b)("p",null,"Both are distinct libraries. RN is essentially the handle to getting things onto a device!"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"import")," is required to working with ",Object(a.b)("inlineCode",{parentName:"p"},"outside code")," eg. other libraries/modules."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"React")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Knows how a component should behave"),Object(a.b)("li",{parentName:"ul"},"Knows how to take a bunch of components and make them work together")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"React Native")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Knows how to take the output from a component and place it on the screen"),Object(a.b)("li",{parentName:"ul"},"Provides default core components (image, text)")),Object(a.b)("h2",{id:"rnredux-4-http-requests-with-react-native"},"RNREDUX-4: HTTP Requests with React Native"),Object(a.b)("h2",{id:"rnredux-41-sourcing-album-data"},"RNREDUX-4.1: Sourcing Album Data"),Object(a.b)("p",null,"For the idea of creating is a label is to create two components."),Object(a.b)("p",null,"a) The AlbumList\nb) The AlbumDetail"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"AlbumList Component")),Object(a.b)("p",null,"Note: If you are embedding more than one component, wrap around in ",Object(a.b)("inlineCode",{parentName:"p"},"<View>"),"."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// after importing from React, ReactNative\n\nconst AlbumView = () => {\n    return (\n        <View>\n            <Text>Album List!</Text>\n        </View>\n    );\n};\n\nexport default AlbumList;\n")),Object(a.b)("h2",{id:"rnredux-42-functional-component-vs-class-component"},"RNREDUX-4.2: Functional Component vs Class Component"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Functional Component")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Used for presenting static data"),Object(a.b)("li",{parentName:"ul"},"Can't handle fetching data"),Object(a.b)("li",{parentName:"ul"},"Easy to write")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Class Component")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Used for dynamic sources of data"),Object(a.b)("li",{parentName:"ul"},"Handles any data that might change (fetching data, user events, etc)"),Object(a.b)("li",{parentName:"ul"},"Knows when it gets rerendered to the device (useful for data fetching)"),Object(a.b)("li",{parentName:"ul"},"More code to write")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"// functional component\n\nconst Header = () => {\n  return <Text>Hi there!</Text>;\n};\n\n// class component\n\nclass Header extends Component {\n  render() {\n    return <Text>Hi there!</Text>;\n  }\n}\n")),Object(a.b)("p",null,"So recreating our AlbumList..."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { View, Text }, from 'react-native';\n\nclass AlbumView extends Component {\n    render() {\n        return (\n            <View>\n                <Text>Album List!</Text>\n            </View>\n        );\n    }\n};\n\nexport default AlbumList;\n")),Object(a.b)("h2",{id:"rnredux-43-fetching-data-with-lifecycle-methods"},"RNREDUX-4.3: Fetching Data with Lifecycle Methods"),Object(a.b)("p",null,"Class based components themselves KNOW when they're about to rendered."),Object(a.b)("p",null,"Example Lifecycle Methods include ",Object(a.b)("inlineCode",{parentName:"p"},"componentWillMount()")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Network Requests")),Object(a.b)("p",null,"How do we make the HTTP request? It's quite straight forward."),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"npm install --save axios")),Object(a.b)("p",null,"Ensure you need to have some logic to rerender the components after the AJAX returns and the promise is fulfilled."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Component Level State")),Object(a.b)("p",null,"Components will already be on the screen before we can get our promise back. Our state so far will look like the following..."),Object(a.b)("p",null,"We need to use component level state for it all to rerender"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Set up a default state (class level property)"),Object(a.b)("li",{parentName:"ol"},"Update the state (needs to use ",Object(a.b)("inlineCode",{parentName:"li"},"this.setState"),"!)")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Rules of State")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Definition of State: a plain JS object used to record and respond to 'user-triggered events'."),Object(a.b)("li",{parentName:"ul"},"When we need to update what a component shows, call ",Object(a.b)("inlineCode",{parentName:"li"},"this.setState"),"."),Object(a.b)("li",{parentName:"ul"},"Only change state with 'setState' not this.state='something'.")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"When do we use props?")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"props is for parent to child communication"),Object(a.b)("li",{parentName:"ul"},"state is internal record keeping")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// before\nstate = { albums: [] };\n\n// after fetching data\nstate = {\n    albums: [\n        {name: 'ashio'},\n        {name: 'aheure'}\n    ]\n};\n")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { View, Text }, from 'react-native';\nimport axios from 'axios';\n\nclass AlbumView extends Component {\n    state = { albums: [] };\n\n\n    componentWillMount() {\n        // console.log('componentWillMount in console');\n        // debugger;\n        axios.get('https://theapilink.com')\n            .then(response => this.setState({ albums: response.data }));\n    }\n\n    render() {\n        // can use this when the render method continues to re-render\n        console.log(this.state);\n        debugger;\n\n        return (\n            <View>\n                <Text>Album List!</Text>\n            </View>\n        );\n    }\n};\n\nexport default AlbumList;\n")),Object(a.b)("h2",{id:"rnredux-44-rendering-a-list-of-components"},"RNREDUX-4.4: Rendering a List of Components"),Object(a.b)("p",null,"Only use state with class level components (not functional components)"),Object(a.b)("p",null,"For each album now, we want to create one component using ",Object(a.b)("inlineCode",{parentName:"p"},"map"),"."),Object(a.b)("p",null,"Ensure that each property has a unique key!"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"AlbumList")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { View, Text }, from 'react-native';\nimport axios from 'axios';\n\nclass AlbumView extends Component {\n    state = { albums: [] };\n\n\n    componentWillMount() {\n        // console.log('componentWillMount in console');\n        // debugger;\n        axios.get('https://theapilink.com')\n            .then(response => this.setState({ albums: response.data }));\n    }\n\n    renderAlbums() {\n        return this.state.albums.map(album =>\n            // best to use for the key is an id if you have one\n            <Text key={album.title}>{album.title}</Text>\n        );\n    }\n\n    render() {\n        // can use this when the render method continues to re-render\n        console.log(this.state);\n        debugger;\n\n        return (\n            <View>\n                {this.renderAlbums()}\n            </View>\n        );\n    }\n};\n\nexport default AlbumList;\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Creating an AlbumDetail")),Object(a.b)("p",null,"Does it need to be a Class or Functional component?"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { View, Text }, from 'react-native';\n\nconst AlbumDetail = (props) => {\n    return (\n        <View>\n            <Text>{props.album.title}</Text>\n        </View>\n    );\n};\n\nexport default AlbumDetail;\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Final AlbumList")),Object(a.b)("p",null,'Import AlbumDetail, reset the "renderAlbums" function to render the AlbumDetail and then use props to pass down from parent to child.'),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { View }, from 'react-native';\nimport axios from 'axios';\nimport AlbumDetail from './AlbumDetail'\n\nclass AlbumView extends Component {\n    state = { albums: [] };\n\n\n    componentWillMount() {\n        // console.log('componentWillMount in console');\n        // debugger;\n        axios.get('https://theapilink.com')\n            .then(response => this.setState({ albums: response.data }));\n    }\n\n    renderAlbums() {\n        return this.state.albums.map(album =>\n            // best to use for the key is an id if you have one\n            // prop name \"album\" can be named anything\n            <AlbumDetail key={album.title} album={album}/>\n        );\n    }\n\n    render() {\n        // can use this when the render method continues to re-render\n        console.log(this.state);\n        debugger;\n\n        return (\n            <View>\n                {this.renderAlbums()}\n            </View>\n        );\n    }\n};\n\nexport default AlbumList;\n")),Object(a.b)("h2",{id:"rnredux-45-creating-reusable-components"},"RNREDUX-4.5: Creating Reusable Components"),Object(a.b)("p",null,"For styling, it is sometimes useful to make components within components for layout purposes!"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Passing components as props")),Object(a.b)("p",null,"We can pass ",Object(a.b)("inlineCode",{parentName:"p"},"props")," as a parameter and then use {props.children} to make a reference to it."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Card.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import React from 'react';\nimport { View } from 'react-native';\n\nconst Card = (props) => {\n    render (\n        <View style={styles.containerStyle}>\n            {props.children}\n        </View>\n    );\n}\n\nconst styles = {\n    containerStyle: {\n        borderWidth: 1,\n        borderRadius: 2,\n        borderColor: '#ddd',\n        borderBottomWidth: 0,\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.1,\n        shadowRadius: 2,\n        elevation: 1,\n        marginLeft: 5,\n        marginRight: 5,\n        marginTop: 10\n    }\n};\n\nexport default Card;\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"AlbumDetail")),Object(a.b)("p",null,"We want to use this to pass down props for ",Object(a.b)("inlineCode",{parentName:"p"},"Card")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { Text }, from 'react-native';\nimport Card from './Card';\n\nconst AlbumDetail = (props) => {\n    return (\n        <Card>\n            <Text>{props.album.title}</Text>\n        </Card>\n    );\n};\n\nexport default AlbumDetail;\n")),Object(a.b)("h2",{id:"rnredux-45-turn-a-component-into-sections"},"RNREDUX-4.5: Turn a Component into Sections"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"CardSection.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React from 'react';\nimport { View } from 'react-native';\n\nconst CardSection = props => {\n  render(<View style={styles.containerStyle}>{props.children}</View>);\n};\n\nconst styles = {\n  containerStyle: {\n    borderBottomWidth: 1,\n    padding: 5,\n    backgroundColor: '#fff',\n    justifyContent: 'flex-start',\n    flexDirection: 'row',\n    borderColor: '#ddd',\n    position: 'relative',\n  },\n};\n\nexport default CardSection;\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"AlbumDetail")),Object(a.b)("p",null,"We want to use this to pass down props for ",Object(a.b)("inlineCode",{parentName:"p"},"Card")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { Text }, from 'react-native';\nimport Card from './Card';\nimport CardSection from './CardSection';\n\nconst AlbumDetail = (props) => {\n    return (\n        <Card>\n            <CardSection>\n                <Text>{props.album.title}</Text>\n            </CardSection>\n        </Card>\n    );\n};\n\nexport default AlbumDetail;\n")),Object(a.b)("h2",{id:"rnredux-5-handling-component-layout"},"RNREDUX-5: Handling Component Layout"),Object(a.b)("h2",{id:"rnredux-51-mastering-layout-with-flexbox"},"RNREDUX-5.1: Mastering Layout with Flexbox"),Object(a.b)("p",null,"Designing for web from personal experience is generally easier than React Native."),Object(a.b)("p",null,"How about layout challenges? Keeping things on the left, and on the right? We use Flexbox to be our friend!"),Object(a.b)("p",null,"Imaging a layout like the following."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"<Card>\n  <CardSection>\n    <Image />\n    <Text />\n    <Text />\n  </CardSection>\n</Card>\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Positioning of elements")),Object(a.b)("p",null,"How do we want to apply flexbox to our particular layout? What we can do is use ",Object(a.b)("inlineCode",{parentName:"p"},"<View>")," to wrap the images - this is similar to using things like ",Object(a.b)("inlineCode",{parentName:"p"},"<div>"),"."),Object(a.b)("p",null,"We can then use flex direction to style our views for column and what is within for rows."),Object(a.b)("p",null,"Unless we define a height, it will just flex to have just enough height!"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Images with React Native")),Object(a.b)("p",null,"We can import ",Object(a.b)("inlineCode",{parentName:"p"},"image")," primitive from React Native!"),Object(a.b)("p",null,"However, images will not expand to fit by default. We need to manually add in a styling rule!"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Notes")),Object(a.b)("p",null,"Destructure album objects if there is more than one."),Object(a.b)("p",null,"If you wanted to, you can also dereference styles!"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"const { thumbnailStyle, headerContentStyle } = styles;\n")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"// the album and const is for destructuring\n\nconst Card = ({ album }) => {\n  const { title, artist, thumbnail_image } = album;\n\n  return (\n    <Card>\n      <CardSection>\n        <View style={styles.thumbnailContainerStyle}>\n          // <Image source={{ uri: props.album.thumbnail_image }} />\n          //destructured\n          <Image\n            style={styles.thumbnailStyle}\n            source={{ uri: thumbnail_image }}\n          />\n        </View>\n        <View style={styles.headerContentStyle}>\n          //<Text>{props.album.title}</Text>\n          //<Text>{props.album.artist}</Text>\n          // Destructured\n          <Text style={styles.headerTextStyle}>{title}</Text>\n          <Text>{artist}</Text>\n        </View>\n      </CardSection>\n      <CardSection>\n        <Image style={style.imageStyle} source={{ uri: image }} />\n      </CardSection>\n    </Card>\n  );\n};\n\nconst styles = {\n  headerContentStyle: {\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n  },\n  headerTextStyle: {\n    fontSize: 18,\n  },\n  thumbnailStyle: {\n    height: 50,\n    width: 50,\n  },\n  thumbnailContainerStyle: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 10,\n    marginRight: 10,\n  },\n  imageStyle: {\n    height: 300,\n    flex: 1,\n    width: null,\n  },\n};\n")),Object(a.b)("h2",{id:"rnredux-52-making-content-scrollable-and-handling-input"},"RNREDUX-5.2: Making Content Scrollable and Handling Input"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"ScrollView")),Object(a.b)("p",null,"Scrolling is definitely one of the differenes between React and React Native. To make them scrollable, we just import ",Object(a.b)("inlineCode",{parentName:"p"},"ScrollView")," and use that on the outside."),Object(a.b)("p",null,"For this case, it is the renderAlbums."),Object(a.b)("p",null,"We can just replace View with ScrollView."),Object(a.b)("p",null,"You also MUST find the root view and set it to flex: 1."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Handling Input")),Object(a.b)("p",null,"Time to make a button."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Button.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import React from 'react';\nimport { Text } from 'react-native';\n\nconst Button = () = => {\n    return (\n        <Text>Click me!</Text>\n    );\n}\n\nexport default Button;\n")),Object(a.b)("p",null,"Now when we use this, we can have a section to house a button."),Object(a.b)("p",null,"We need to wrap the button but using ",Object(a.b)("inlineCode",{parentName:"p"},"TouchableHighlight")," or ",Object(a.b)("inlineCode",{parentName:"p"},"TouchableOpacity")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import React from 'react';\nimport { Text, TouchableOpacity } from 'react-native';\n\nconst Button = ({ onPress }) = => {\n\n    const { buttonStyle, textStyle } = styles;\n\n    return (\n        // from the parent, have the prop of onPress{() => function}\n        <TouchableOpacity style={buttonStyle} onPress={onPress}>\n            <Text style={textStyle}>\n                Click me!\n            </Text>\n        </TouchableOpacity>\n    );\n}\n\nconst styles = {\n    textStyle: {\n        alignSelf: 'center',\n        color: '#007aff',\n        fontSize: 16,\n        fontWeight: '600',\n        paddingTop: 10,\n        paddingBottom: 10\n    },\n    buttonStyle: {\n        flex: 1,\n        alignSelf: 'stretch',\n        backgroundColor: '#fff',\n        borderRadius: 5,\n        borderColor: '#007aff',\n    }\n}\n\nexport default Button;\n")),Object(a.b)("h2",{id:"rnredux-53-responding-to-user-input"},"RNREDUX-5.3: Responding to User Input"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Card.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"// have your imports\n// the album and const is for destructuring\n\nconst Card = ({ album }) => {\n  const { title, artist, thumbnail_image, url } = album;\n\n  return (\n    <Card>\n      <CardSection>\n        <View style={styles.thumbnailContainerStyle}>\n          // <Image source={{ uri: props.album.thumbnail_image }} />\n          //destructured\n          <Image\n            style={styles.thumbnailStyle}\n            source={{ uri: thumbnail_image }}\n          />\n        </View>\n        <View style={styles.headerContentStyle}>\n          //<Text>{props.album.title}</Text>\n          //<Text>{props.album.artist}</Text>\n          // Destructured\n          <Text style={styles.headerTextStyle}>{title}</Text>\n          <Text>{artist}</Text>\n        </View>\n      </CardSection>\n      <CardSection>\n        <Image style={style.imageStyle} source={{ uri: image }} />\n      </CardSection>\n      <CardSection>\n        <Button onPress={() => openURL(album.url)}>Buy now</Button>\n      </CardSection>\n    </Card>\n  );\n};\n\nconst styles = {\n  headerContentStyle: {\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n  },\n  headerTextStyle: {\n    fontSize: 18,\n  },\n  thumbnailStyle: {\n    height: 50,\n    width: 50,\n  },\n  thumbnailContainerStyle: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 10,\n    marginRight: 10,\n  },\n  imageStyle: {\n    height: 300,\n    flex: 1,\n    width: null,\n  },\n};\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Button.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React from 'react';\nimport { Text, TouchableOpacity } from 'react-native';\n\nconst Button = ({ onPress, children }) = => {\n\n    const { buttonStyle, textStyle } = styles;\n\n    return (\n        // from the parent, have the prop of onPress{() => function}\n        <TouchableOpacity style={buttonStyle} onPress={onPress}>\n            <Text style={textStyle}>\n                { children }\n            </Text>\n        </TouchableOpacity>\n    );\n}\n\nconst styles = {\n    textStyle: {\n        alignSelf: 'center',\n        color: '#007aff',\n        fontSize: 16,\n        fontWeight: '600',\n        paddingTop: 10,\n        paddingBottom: 10\n    },\n    buttonStyle: {\n        flex: 1,\n        alignSelf: 'stretch',\n        backgroundColor: '#fff',\n        borderRadius: 5,\n        borderColor: '#007aff',\n    }\n}\n\nexport default Button;\n")),Object(a.b)("h2",{id:"rnredux-8-redux-inside-of-react-native"},"RNREDUX-8: Redux inside of React Native"),Object(a.b)("h2",{id:"rnredux-81-redux-boilerplate"},"RNREDUX-8.1: Redux Boilerplate"),Object(a.b)("p",null,"The ",Object(a.b)("inlineCode",{parentName:"p"},"<Provider>")," tag works together with the Store. The Store is what holds the Application State."),Object(a.b)("p",null,"The Provider is the communication with React. ",Object(a.b)("inlineCode",{parentName:"p"},"react-redux")," is the glue for React and Redux."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Steps")),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("inlineCode",{parentName:"li"},"import { Provider } from 'react-redux'")," + ",Object(a.b)("inlineCode",{parentName:"li"},"import { createStore } from 'redux'"),"."),Object(a.b)("li",{parentName:"ol"},"Wrap app view in ",Object(a.b)("inlineCode",{parentName:"li"},"<Provider store={createStore(reducers)} />")),Object(a.b)("li",{parentName:"ol"},"Create reducers/index.js"),Object(a.b)("li",{parentName:"ol"},"Import {combineReducers } from 'redux' in this new file and export default combineReducers with the reducers inside.")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"app.js for React-Native Redux")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React from 'react';\nimport { View } from 'react-native';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport reducers from './reducers';\n\nconst App = () => {\n  return (\n    <Provider store={createStore(reducers)}>\n      <View />\n    </Provider>\n  );\n};\n\nexport default App;\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"reducers/index.js")),Object(a.b)("p",null,"Create ",Object(a.b)("inlineCode",{parentName:"p"},"libraries")," as basis to always return an array."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import {combineReducers } from 'redux';\n\nexport default combineReducers({\n    libraries: () => []\n});\n")),Object(a.b)("h2",{id:"rnredux-82-reducer-and-state-design"},"RNREDUX-8.2: Reducer and State Design"),Object(a.b)("p",null,"How can we tap on something and move to show more detail?"),Object(a.b)("p",null,"Let's create a file to specifically show library details. Making a data model. You need to be thinking about Reducers here. Reducers contains the App Data."),Object(a.b)("p",null,"This builds on the ",Object(a.b)("inlineCode",{parentName:"p"},"combineReducers")," function we have above."),Object(a.b)("p",null,"Let's have two separate pieces of state."),Object(a.b)("p",null,"a) a list of libraries\nb) currently selected library"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"// Examples of what our reducers\n// could look like\n\n// Library Reducer\n\n[{ id: 1, name: 'React' }, { id: 2, name: 'Redux' }];\n\n// Selection Reducer\n\n1;\n")),Object(a.b)("hr",null),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Library list of data")),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"Connect")," function: Used to connect up the reducers and state."),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"LibraryReducer.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import data from './LibraryList.json';\n\nexport default () => data;\n")),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"LibraryReducer.json")),Object(a.b)("p",null,"This provides the data for above."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"[\n    {\n        'id': 0,\n        'title': 'ahid',\n        'description': 'iOhoieshoit'\n    },\n    ...\n]\n")),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"reducers.js")),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import { CombineReducers } from 'redux';\nimport LibraryReducer from './LibraryReducer';\n\nexport default combineReducers({\n  libraries: LibraryReducer,\n});\n")),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"LibraryList.js")),Object(a.b)("p",null,"Rendering the list to the user. mapStateToProps will grab the state from the connect function that is exported in ",Object(a.b)("inlineCode",{parentName:"p"},"combineReducers")," and any object returned from this ",Object(a.b)("inlineCode",{parentName:"p"},"mapStateToProps")," function will become available to our props."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{className:"language-javascript"}),"import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nclass LibraryList extends Component {\n    render() {\n        // this will show what is available from\n        // the mapStateToProps func\n        // console.log(this.props)\n        return;\n    }\n}\n\nconst mapStateToProps = state => {\n    // console.log(state); // use to see current state\n    return {\n        // this will give a prop to our LibraryList\n        libraries: state.libraries;\n    }\n};\n\nexport default connect(mapStateToProps)(LibraryList);\n")),Object(a.b)("hr",null),Object(a.b)("h2",{id:"redux-thunk"},"Redux Thunk"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import { createStore, applyMiddleware } from 'redux';\nimport ReduxThunk from 'redux-thunk';\n\n...\n")),Object(a.b)("p",null,"Now, inside fo the createStore, we adjust it to be like so..."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// the second arg is for initial states\nconst store = createStore(reducers, {}, applyMiddleware(ReduxThunk));\n\n<Provider store={store}>\n    <View style={{ flex: 1 }}>\n        <Header headerText={'Example'} />\n        <Table />\n    </View>\n</Provider>\n")),Object(a.b)("p",null,"Now that ReduxThunk is set up, we can use it inside an action creator."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// Action Creators\nexport const selectAction = ({ email, password }) => {\n    return (dispatch) -> {\n        firebase.auth().signInWithEmailAndPassword(email, password)\n            .then(user => console.log(user))\n    };\n};\n")),Object(a.b)("p",null,"So, what is ReduxThunk doing for us?"),Object(a.b)("p",null,"Now that we have ReduxThunk, it will change how we call the action creator."),Object(a.b)("p",null,"The Action Creator ",Object(a.b)("inlineCode",{parentName:"p"},"WILL NOW RETURN A FUNCTION"),". If ReduxThunk sees a function returned, it will send off an action with a dispatcher and immediately call that function."),Object(a.b)("p",null,"This will then start our login request. The app will wait and the .then will automatically run and we will then dispatch our action."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// Action Creators\nexport const selectAction = ({ email, password }) => {\n    return (dispatch) -> {\n        firebase.auth().signInWithEmailAndPassword(email, password)\n            .then(user => {\n                dispatch({ type: 'LOGIN_USER_SUCCESS', payload: user });\n            });\n    };\n};\n")),Object(a.b)("hr",null),Object(a.b)("h2",{id:"dealing-with-navigation"},"Dealing with Navigation"),Object(a.b)("p",null,"As opposed to React with ",Object(a.b)("inlineCode",{parentName:"p"},"React-Router"),", React Native doesn't necessarily have one."),Object(a.b)("p",null,"In this case, we'll be using the solution called ",Object(a.b)("inlineCode",{parentName:"p"},"React-Native-Router-Flux")," to help with navigation."),Object(a.b)("p",null,"How does it work?"),Object(a.b)("p",null,"Imagine an app that requires authentication. We could then have another scene where the is a Master-Detail relationship."),Object(a.b)("p",null,"We essentially define a ",Object(a.b)("inlineCode",{parentName:"p"},"Scene")," for each distinct screens. For example."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),'<Scene key="login" component={LoginForm} />\n<Scene key="employeeList" component={EmployeeList} />\n<Scene key="employeeDetail" component={EmployeeDetail} />\n\n// All the props you can pass to the scene\n\n<Scene\n    key="login"                 // call Actions.login() to show this screen\n    component={LoginForm}       // component to show\n    title="Login"               // make nav bar and give it a title - this is built in\n    initial                     // define the first screen to show\n/>\n')),Object(a.b)("h2",{id:"navigation-in-the-router"},"Navigation in the Router"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// Create a router.js\n\nimport React from 'react';\nimport { Scene, Router } from 'react-native-router-flux';\n\n// scene-target\nimport ExampleComponent from './components/examplecomponent/ExampleComponent';\nimport Table from './components/table/Table';\n\nconst RouterComponent = () => {\n    return (\n        <Router>\n            <Scene key=\"example\" component={ExampleComponent} title=\"App\" />\n            <Scene key=\"table\" component={Table} title=\"Table\" initial />\n        </Router>\n    );\n};\n\nexport default RouterComponent;\n\n// in app.js\n\n...\nimport Router from './router';\n\nconst App = () => {\n\n    const store = createStore(reducers, {}, applyMiddleware(ReduxThunk));\n\n    return (\n        <Provider store={store}>\n            <Router />\n        </Provider>\n    );\n}\n\nexport default App;\n")),Object(a.b)("p",null,"So how do we move between these scenes?"),Object(a.b)("h2",{id:"navigating-between-routes"},"Navigating between routes"),Object(a.b)("p",null,"Navigation will happen from an action."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"// import actions\nimport { Actions } from 'react-native-router-flux';\n\n// Action Creators\nexport const loginUserSuccess = (dispatch, user) => {\n    dispatch({\n        type: LOGIN_USER_SUCCESS,\n        payload: user\n    });\n\n    Actions.employeeList(); // this method comes from the key property\n};\n")),Object(a.b)("h2",{id:"grouping-scenes-with-buckets"},"Grouping Scenes with 'Buckets'"),Object(a.b)("p",null,"Making decisions on how the header should render."),Object(a.b)("p",null,"We can do ",Object(a.b)("inlineCode",{parentName:"p"},"scene nesting")," to group these screens. There is one 'gotcha' though. Now for the actions, we need to actually use Actions.main()."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),'// router.js\n\nconst RouterComponent = () => {\n    return (\n        <Router>\n            <Scene key="auth">\n                <Scene key="login" component={Login} title="Login" />\n            </Scene>\n            <Scene key="flow">\n                <Scene key="example" component={ExampleComponent} title="App" />\n                <Scene\n                    // for action, you normally call Actions.key()\n                    onRight={() => console.log(\'right!!!\')}\n                    rightTitle="Add"\n                    key="table"\n                    component={Table}\n                    title="Table"\n                    initial\n                />\n            </Scene>\n        </Router>\n    );\n};\n')),Object(a.b)("p",null,"We can use the ",Object(a.b)("inlineCode",{parentName:"p"},"initial")," prop within these ",Object(a.b)("inlineCode",{parentName:"p"},"buckets")," to let which component within a bucket to have an initial prop"),Object(a.b)("h2",{id:"actions-to-navigate-between-buckets"},"Actions to navigate between buckets"),Object(a.b)("p",null,"These actions can be added using"),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"import { Actions } from 'react-native-router-flux';\n\n// Action Creators - exammple thunk action creator\nconst loginUserSuccess = (dispatch, user) => {\n    dispatch({\n        type: LOGIN_USER_SUCCESS,\n        payload: user\n    });\n\n    Actions.employeeList();\n}\n")),Object(a.b)("h2",{id:"form-updates-at-a-reducer-level--dynamic-property-updates"},"Form updates at a reducer level / Dynamic Property updates"),Object(a.b)("p",null,"Example reducer function with ES6 dynamic change."),Object(a.b)("pre",null,Object(a.b)("code",o({parentName:"pre"},{}),"export default (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case EMPLOYEE_UPDATE:\n            return {...state, [action.payload.prop]: action.payload.value};\n        default:\n            return state;\n    }\n}\n")))}s&&s===Object(s)&&Object.isExtensible(s)&&!s.hasOwnProperty("__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"manual/React-Native/React-Native-Redux.md"}}),s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---manual-react-native-react-native-redux-md-8e01e73d3170eeef5778.js.map