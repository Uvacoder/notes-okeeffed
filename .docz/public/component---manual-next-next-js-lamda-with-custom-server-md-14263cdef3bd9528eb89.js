(window.webpackJsonp=window.webpackJsonp||[]).push([[430],{"6Rwr":function(e,r,t){"use strict";t.r(r),t.d(r,"_frontmatter",(function(){return o})),t.d(r,"default",(function(){return l}));t("1c7q"),t("abGl"),t("gZHo"),t("Fdmb"),t("Ir+3"),t("2mQt"),t("mXGw");var n=t("/FXl"),a=t("TjRS");t("aD51");function s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var o={};void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"manual/Next/NextJS-Lamda-With-Custom-Server.md"}});var p={_frontmatter:o},c=a.a;function l(e){var r=e.components,t=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,["components"]);return Object(n.b)(c,s({},p,t,{components:r,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"nextjs-lambda-w-express-server"},"NextJS Lambda w/ Express Server"),Object(n.b)("p",null,"Not huge amounts of info here."),Object(n.b)("pre",null,Object(n.b)("code",s({parentName:"pre"},{className:"language-js"}),"// server.js\n\nconst express = require('express');\nconst next = require('next');\n\nconst port = parseInt(process.env.PORT, 10) || 3000;\nconst dev = process.env.NODE_ENV !== 'production';\nconst app = next({ dev });\nconst handle = app.getRequestHandler();\n\napp\n  .prepare()\n  .then(() => {\n    const server = express();\n\n    server.get('/', (req, res) => {\n      return app.render(req, res, '/', req.params);\n    });\n\n    server.get('/about', (req, res) => {\n      return app.render(req, res, '/about', req.params);\n    });\n\n    server.get('*', (req, res) => {\n      return handle(req, res);\n    });\n\n    server.listen(port, err => {\n      if (err) throw err;\n      console.log(`> Ready on http://localhost:${port}`);\n    });\n  })\n  .catch(ex => {\n    console.log(ex);\n    process.exit(1);\n  });\n")),Object(n.b)("h2",{id:"resources"},"Resources"),Object(n.b)("ol",null,Object(n.b)("li",{parentName:"ol"},Object(n.b)("a",s({parentName:"li"},{href:"https://moondaddi.dev/post/2019-01-11-Deploy-Nextjs-app-to-AWS-Lambda/"}),"Deploy NextJS to Lambda")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("a",s({parentName:"li"},{href:"https://github.com/awslabs/aws-serverless-express"}),"AWS Serverless Express")),Object(n.b)("li",{parentName:"ol"},Object(n.b)("a",s({parentName:"li"},{href:"https://github.com/99designs/aws-vault"}),"AWS Vault"))))}l&&l===Object(l)&&Object.isExtensible(l)&&!l.hasOwnProperty("__filemeta")&&Object.defineProperty(l,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"manual/Next/NextJS-Lamda-With-Custom-Server.md"}}),l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---manual-next-next-js-lamda-with-custom-server-md-14263cdef3bd9528eb89.js.map