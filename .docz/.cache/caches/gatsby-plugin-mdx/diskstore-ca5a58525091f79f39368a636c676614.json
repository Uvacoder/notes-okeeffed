{"expireTime":9007200849425501000,"key":"gatsby-plugin-mdx-entire-payload-b9d71be7a87c86466d09e80a59722396-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":133,"offset":134},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":136},"end":{"line":5,"column":29,"offset":164},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Using Stripe with Node","position":{"start":{"line":8,"column":3,"offset":169},"end":{"line":8,"column":25,"offset":191},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":25,"offset":191},"indent":[]}},{"type":"jsx","value":"<!-- TOC -->autoauto- [Using Stripe with Node](#using-stripe-with-node)auto  - [Prereqs](#prereqs)auto  - [Testing with Express](#testing-with-express)autoauto<!-- /TOC -->","position":{"start":{"line":10,"column":1,"offset":193},"end":{"line":10,"column":173,"offset":365},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Prereqs","position":{"start":{"line":12,"column":4,"offset":370},"end":{"line":12,"column":11,"offset":377},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":367},"end":{"line":12,"column":11,"offset":377},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Sign up","position":{"start":{"line":14,"column":5,"offset":383},"end":{"line":14,"column":12,"offset":390},"indent":[]}}],"position":{"start":{"line":14,"column":5,"offset":383},"end":{"line":14,"column":12,"offset":390},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":379},"end":{"line":14,"column":12,"offset":390},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"yarn add stripe","position":{"start":{"line":15,"column":5,"offset":395},"end":{"line":15,"column":22,"offset":412},"indent":[]}},{"type":"text","value":" to your Node.js Project","position":{"start":{"line":15,"column":22,"offset":412},"end":{"line":15,"column":46,"offset":436},"indent":[]}}],"position":{"start":{"line":15,"column":5,"offset":395},"end":{"line":15,"column":46,"offset":436},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":391},"end":{"line":15,"column":46,"offset":436},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Build out a server","position":{"start":{"line":16,"column":5,"offset":441},"end":{"line":16,"column":23,"offset":459},"indent":[]}}],"position":{"start":{"line":16,"column":5,"offset":441},"end":{"line":16,"column":23,"offset":459},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":437},"end":{"line":16,"column":23,"offset":459},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":379},"end":{"line":16,"column":23,"offset":459},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Testing with Express","position":{"start":{"line":18,"column":4,"offset":464},"end":{"line":18,"column":24,"offset":484},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":461},"end":{"line":18,"column":24,"offset":484},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Configure the .env file and upload","position":{"start":{"line":20,"column":1,"offset":486},"end":{"line":20,"column":35,"offset":520},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":486},"end":{"line":20,"column":35,"offset":520},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/stripe/stripe-node","children":[{"type":"text","value":"Node Stripe Github","position":{"start":{"line":22,"column":2,"offset":523},"end":{"line":22,"column":20,"offset":541},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":522},"end":{"line":22,"column":60,"offset":581},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":522},"end":{"line":22,"column":60,"offset":581},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);\n\n/* GET home page. */\nmodule.exports = function(app) {\n  app.get('/', function(req, res) {\n    res.send('Server is healthy');\n  });\n\n  app.post('/', function(req, res) {\n    console.log(req.body);\n    // Create a new customer and then a new charge for that customer:\n    stripe.customers\n      .create({\n        email: 'foo-customer@example.com',\n      })\n      .then(function(customer) {\n        console.log(customer);\n        return stripe.customers.createSource(customer.id, {\n          source: {\n            object: 'card',\n            exp_month: 10,\n            exp_year: 2018,\n            number: '4242 4242 4242 4242',\n            cvc: 100,\n          },\n        });\n      })\n      .then(function(source) {\n        return stripe.charges.create({\n          amount: 1600,\n          currency: 'aud',\n          customer: source.customer,\n        });\n      })\n      .then(function(charge) {\n        // New charge created on a new customer\n        console.log(charge);\n      })\n      .catch(function(err) {\n        // Deal with an error\n        console.log(err);\n      });\n\n    res.send('Post requests are healthy');\n  });\n};","position":{"start":{"line":24,"column":1,"offset":583},"end":{"line":71,"column":4,"offset":1791},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":74,"column":1,"offset":1794},"end":{"line":74,"column":31,"offset":1824},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":74,"column":31,"offset":1824}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"using-stripe-with-node\"\n    }}>{`Using Stripe with Node`}</h1>\n    {\n      /* TOC -->autoauto- [Using Stripe with Node](#using-stripe-with-node)auto  - [Prereqs](#prereqs)auto  - [Testing with Express](#testing-with-express)autoauto<!-- /TOC */\n    }\n    <h2 {...{\n      \"id\": \"prereqs\"\n    }}>{`Prereqs`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`Sign up`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`yarn add stripe`}</inlineCode>{` to your Node.js Project`}</li>\n      <li parentName=\"ol\">{`Build out a server`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"testing-with-express\"\n    }}>{`Testing with Express`}</h2>\n    <p>{`Configure the .env file and upload`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/stripe/stripe-node\"\n      }}>{`Node Stripe Github`}</a></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);\n\n/* GET home page. */\nmodule.exports = function(app) {\n  app.get('/', function(req, res) {\n    res.send('Server is healthy');\n  });\n\n  app.post('/', function(req, res) {\n    console.log(req.body);\n    // Create a new customer and then a new charge for that customer:\n    stripe.customers\n      .create({\n        email: 'foo-customer@example.com',\n      })\n      .then(function(customer) {\n        console.log(customer);\n        return stripe.customers.createSource(customer.id, {\n          source: {\n            object: 'card',\n            exp_month: 10,\n            exp_year: 2018,\n            number: '4242 4242 4242 4242',\n            cvc: 100,\n          },\n        });\n      })\n      .then(function(source) {\n        return stripe.charges.create({\n          amount: 1600,\n          currency: 'aud',\n          customer: source.customer,\n        });\n      })\n      .then(function(charge) {\n        // New charge created on a new customer\n        console.log(charge);\n      })\n      .catch(function(err) {\n        // Deal with an error\n        console.log(err);\n      });\n\n    res.send('Post requests are healthy');\n  });\n};\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}