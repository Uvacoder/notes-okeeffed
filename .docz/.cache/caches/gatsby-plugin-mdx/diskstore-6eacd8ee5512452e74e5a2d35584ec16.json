{"expireTime":9007200848610889000,"key":"gatsby-plugin-mdx-entire-payload-9fb837b783b6f9bc85eb244216209eda-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":133,"offset":134},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":136},"end":{"line":5,"column":29,"offset":164},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"6. Serverless on Kubernetes","position":{"start":{"line":8,"column":3,"offset":169},"end":{"line":8,"column":30,"offset":196},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":30,"offset":196},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"With the serverless products, you don't need to manage the underlying functions. It can also greatly reduce costs.","position":{"start":{"line":10,"column":1,"offset":198},"end":{"line":10,"column":115,"offset":312},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":198},"end":{"line":10,"column":115,"offset":312},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Great for not worrying about many operational aspects.","position":{"start":{"line":12,"column":1,"offset":314},"end":{"line":12,"column":55,"offset":368},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":314},"end":{"line":12,"column":55,"offset":368},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also use functions to start applications on Kubernetes instead of containers. You can install and use any of the projects to let developers launch functions on your Kubernetes cluster.","position":{"start":{"line":14,"column":1,"offset":370},"end":{"line":14,"column":193,"offset":562},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":370},"end":{"line":14,"column":193,"offset":562},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"6.1 Intro to Kubeless","position":{"start":{"line":16,"column":4,"offset":567},"end":{"line":16,"column":25,"offset":588},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":564},"end":{"line":16,"column":25,"offset":588},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is a Kubernetes-native framework. It leverages Kubernetes resource to provide auto-scaling, API routing, monitoring and more.","position":{"start":{"line":18,"column":1,"offset":590},"end":{"line":18,"column":131,"offset":720},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":590},"end":{"line":18,"column":131,"offset":720},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It uses ","position":{"start":{"line":20,"column":1,"offset":722},"end":{"line":20,"column":9,"offset":730},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Customer Resource Definitions","position":{"start":{"line":20,"column":11,"offset":732},"end":{"line":20,"column":40,"offset":761},"indent":[]}}],"position":{"start":{"line":20,"column":9,"offset":730},"end":{"line":20,"column":42,"offset":763},"indent":[]}},{"type":"text","value":" to be able to create functions.","position":{"start":{"line":20,"column":42,"offset":763},"end":{"line":20,"column":74,"offset":795},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":722},"end":{"line":20,"column":74,"offset":795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You deploy a function with your preferred language. Once you deploy, you need to determine how it will be triggered.","position":{"start":{"line":22,"column":1,"offset":797},"end":{"line":22,"column":117,"offset":913},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":797},"end":{"line":22,"column":117,"offset":913},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"6.2 Creating functions on Kubeless","position":{"start":{"line":24,"column":4,"offset":918},"end":{"line":24,"column":38,"offset":952},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":915},"end":{"line":24,"column":38,"offset":952},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Installing the CLI","position":{"start":{"line":26,"column":5,"offset":958},"end":{"line":26,"column":23,"offset":976},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":954},"end":{"line":26,"column":23,"offset":976},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"$ wget https://github.com/kubeless/kubeless/releases/download/v1.0.0-alpha.8/kubeless_linux-amd64.zip\n$ sudo apt-get install unzip # if you need to unzip\n$ unzip kubeless_linux-amd64.zip\n$ sudo mv bundles/kubeless_linux-amd64/kubeless /usr/local/bin\n$ rm -r bundles/","position":{"start":{"line":28,"column":1,"offset":978},"end":{"line":34,"column":4,"offset":1256},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Deploy kubeless","position":{"start":{"line":36,"column":5,"offset":1262},"end":{"line":36,"column":20,"offset":1277},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1258},"end":{"line":36,"column":20,"offset":1277},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"$ kubectl create ns kubeless\n$ kubectl create -f https://github.com/kubeless/kubeless/releases/download/v1.0.0-alpha.8/kubeless-v1.0.0-alpha.8.yaml","position":{"start":{"line":38,"column":1,"offset":1279},"end":{"line":41,"column":4,"offset":1438},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Deploy function on Kubernetes","position":{"start":{"line":43,"column":5,"offset":1444},"end":{"line":43,"column":34,"offset":1473},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1440},"end":{"line":43,"column":34,"offset":1473},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"kubeless function deploy myfunc --runtime nodejs6 --dependencies node-example/package.json --handler test.myfunction --from-file node-example/example.js","position":{"start":{"line":45,"column":1,"offset":1475},"end":{"line":47,"column":4,"offset":1639},"indent":[1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Useful functions","position":{"start":{"line":49,"column":6,"offset":1646},"end":{"line":49,"column":22,"offset":1662},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1641},"end":{"line":49,"column":22,"offset":1662},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"# List function\n$ kubeless function ls\n# Call function\n$ kubeless function call myfunction --data 'this is some data'\n# Expose function\n$ kubectl create -f nginx-ingress-controller-with-elb.yml\n# Linking the function to the ingress controller\n$ kubeless trigger http create myfunction --function-name myfunction --hostname myfunction.domain.name","position":{"start":{"line":51,"column":1,"offset":1664},"end":{"line":60,"column":4,"offset":2021},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Usage with Kafka","position":{"start":{"line":62,"column":5,"offset":2027},"end":{"line":62,"column":21,"offset":2043},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2023},"end":{"line":62,"column":21,"offset":2043},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"# Kafka installation\nexport RELEASE=$(curl -s https://api.github.com/repos/kubeless/kafka-trigger/releases/latest | grep tag_name | cut -d '\"' -f 4)\nkubectl create -f https://github.com/kubeless/kafka-trigger/releases/download/$RELEASE/kafka-zookeeper-$RELEASE.yaml\n\n# Trigger and publish\nkubeless trigger kafka create test --function-selector created-by=kubeless,function=uppercase --trigger-topic uppercase\nkubeless topic publish --topic uppercase --data \"this message will be converted to uppercase\"","position":{"start":{"line":64,"column":1,"offset":2045},"end":{"line":72,"column":4,"offset":2559},"indent":[1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":75,"column":1,"offset":2562},"end":{"line":75,"column":31,"offset":2592},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":75,"column":31,"offset":2592}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"6-serverless-on-kubernetes\"\n    }}>{`6. Serverless on Kubernetes`}</h1>\n    <p>{`With the serverless products, you don't need to manage the underlying functions. It can also greatly reduce costs.`}</p>\n    <p>{`Great for not worrying about many operational aspects.`}</p>\n    <p>{`You can also use functions to start applications on Kubernetes instead of containers. You can install and use any of the projects to let developers launch functions on your Kubernetes cluster.`}</p>\n    <h2 {...{\n      \"id\": \"61-intro-to-kubeless\"\n    }}>{`6.1 Intro to Kubeless`}</h2>\n    <p>{`This is a Kubernetes-native framework. It leverages Kubernetes resource to provide auto-scaling, API routing, monitoring and more.`}</p>\n    <p>{`It uses `}<strong parentName=\"p\">{`Customer Resource Definitions`}</strong>{` to be able to create functions.`}</p>\n    <p>{`You deploy a function with your preferred language. Once you deploy, you need to determine how it will be triggered.`}</p>\n    <h2 {...{\n      \"id\": \"62-creating-functions-on-kubeless\"\n    }}>{`6.2 Creating functions on Kubeless`}</h2>\n    <h3 {...{\n      \"id\": \"installing-the-cli\"\n    }}>{`Installing the CLI`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`$ wget https://github.com/kubeless/kubeless/releases/download/v1.0.0-alpha.8/kubeless_linux-amd64.zip\n$ sudo apt-get install unzip # if you need to unzip\n$ unzip kubeless_linux-amd64.zip\n$ sudo mv bundles/kubeless_linux-amd64/kubeless /usr/local/bin\n$ rm -r bundles/\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"deploy-kubeless\"\n    }}>{`Deploy kubeless`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`$ kubectl create ns kubeless\n$ kubectl create -f https://github.com/kubeless/kubeless/releases/download/v1.0.0-alpha.8/kubeless-v1.0.0-alpha.8.yaml\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"deploy-function-on-kubernetes\"\n    }}>{`Deploy function on Kubernetes`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`kubeless function deploy myfunc --runtime nodejs6 --dependencies node-example/package.json --handler test.myfunction --from-file node-example/example.js\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"useful-functions\"\n    }}>{`Useful functions`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`# List function\n$ kubeless function ls\n# Call function\n$ kubeless function call myfunction --data 'this is some data'\n# Expose function\n$ kubectl create -f nginx-ingress-controller-with-elb.yml\n# Linking the function to the ingress controller\n$ kubeless trigger http create myfunction --function-name myfunction --hostname myfunction.domain.name\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"usage-with-kafka\"\n    }}>{`Usage with Kafka`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`# Kafka installation\nexport RELEASE=$(curl -s https://api.github.com/repos/kubeless/kafka-trigger/releases/latest | grep tag_name | cut -d '\"' -f 4)\nkubectl create -f https://github.com/kubeless/kafka-trigger/releases/download/$RELEASE/kafka-zookeeper-$RELEASE.yaml\n\n# Trigger and publish\nkubeless trigger kafka create test --function-selector created-by=kubeless,function=uppercase --trigger-topic uppercase\nkubeless topic publish --topic uppercase --data \"this message will be converted to uppercase\"\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}