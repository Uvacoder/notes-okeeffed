{"expireTime":9007200852878345000,"key":"gatsby-plugin-mdx-entire-payload-bfe0a454a136a47386133cb6b9dc4b67-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":133,"offset":134},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":136},"end":{"line":5,"column":29,"offset":164},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Webpack Plugins","position":{"start":{"line":8,"column":3,"offset":169},"end":{"line":8,"column":18,"offset":184},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":18,"offset":184},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Webpack 4 is the standard at the time of this course.","position":{"start":{"line":10,"column":1,"offset":186},"end":{"line":10,"column":54,"offset":239},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":186},"end":{"line":10,"column":54,"offset":239},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Resources","position":{"start":{"line":12,"column":4,"offset":244},"end":{"line":12,"column":13,"offset":253},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":241},"end":{"line":12,"column":13,"offset":253},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://frontendmasters.com/courses/webpack-plugins/tapable-plugin-system/","children":[{"type":"text","value":"FE Course","position":{"start":{"line":14,"column":5,"offset":259},"end":{"line":14,"column":14,"offset":268},"indent":[]}}],"position":{"start":{"line":14,"column":4,"offset":258},"end":{"line":14,"column":91,"offset":345},"indent":[]}}],"position":{"start":{"line":14,"column":4,"offset":258},"end":{"line":14,"column":91,"offset":345},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":255},"end":{"line":14,"column":91,"offset":345},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/thelarkinn/webpack-workshop-2018","children":[{"type":"text","value":"Course Repo","position":{"start":{"line":15,"column":5,"offset":350},"end":{"line":15,"column":16,"offset":361},"indent":[]}}],"position":{"start":{"line":15,"column":4,"offset":349},"end":{"line":15,"column":70,"offset":415},"indent":[]}}],"position":{"start":{"line":15,"column":4,"offset":349},"end":{"line":15,"column":70,"offset":415},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":346},"end":{"line":15,"column":70,"offset":415},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://webpack.js.org/api/compilation-hooks/","children":[{"type":"text","value":"Webpack Compilation","position":{"start":{"line":16,"column":5,"offset":420},"end":{"line":16,"column":24,"offset":439},"indent":[]}}],"position":{"start":{"line":16,"column":4,"offset":419},"end":{"line":16,"column":72,"offset":487},"indent":[]}}],"position":{"start":{"line":16,"column":4,"offset":419},"end":{"line":16,"column":72,"offset":487},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":416},"end":{"line":16,"column":72,"offset":487},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/streamich/memfs","children":[{"type":"text","value":"memfs GitHub","position":{"start":{"line":17,"column":5,"offset":492},"end":{"line":17,"column":17,"offset":504},"indent":[]}}],"position":{"start":{"line":17,"column":4,"offset":491},"end":{"line":17,"column":54,"offset":541},"indent":[]}}],"position":{"start":{"line":17,"column":4,"offset":491},"end":{"line":17,"column":54,"offset":541},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":488},"end":{"line":17,"column":54,"offset":541},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":255},"end":{"line":17,"column":54,"offset":541},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Tapable Pluging System","position":{"start":{"line":19,"column":4,"offset":546},"end":{"line":19,"column":26,"offset":568},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":543},"end":{"line":19,"column":26,"offset":568},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It is a backbone of the webpack of the plugin system.","position":{"start":{"line":21,"column":1,"offset":570},"end":{"line":21,"column":54,"offset":623},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":570},"end":{"line":21,"column":54,"offset":623},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Things like the ","position":{"start":{"line":23,"column":1,"offset":625},"end":{"line":23,"column":17,"offset":641},"indent":[]}},{"type":"inlineCode","value":"Compiler","position":{"start":{"line":23,"column":17,"offset":641},"end":{"line":23,"column":27,"offset":651},"indent":[]}},{"type":"text","value":" extend ","position":{"start":{"line":23,"column":27,"offset":651},"end":{"line":23,"column":35,"offset":659},"indent":[]}},{"type":"inlineCode","value":"Tapable","position":{"start":{"line":23,"column":35,"offset":659},"end":{"line":23,"column":44,"offset":668},"indent":[]}},{"type":"text","value":". They have hooks now that are static to see what you can plug into.","position":{"start":{"line":23,"column":44,"offset":668},"end":{"line":23,"column":112,"offset":736},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":625},"end":{"line":23,"column":112,"offset":736},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"// This is only v3 shown for demo purposes.\n// These days you can plug into via the hooks.\nclass BasicPlugin {\n  constructor() {}\n\n  apply(compiler) {\n    compiler.plugin('make', compilation => {\n      console.log('I have access to the compilation!');\n    });\n  }\n}\n\nmodule.exports = BasicPlugin;","position":{"start":{"line":25,"column":1,"offset":738},"end":{"line":39,"column":4,"offset":1052},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"To access any Tapable instances, you need to go through the compiler.","position":{"start":{"line":41,"column":3,"offset":1056},"end":{"line":41,"column":72,"offset":1125},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":1056},"end":{"line":41,"column":72,"offset":1125},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1054},"end":{"line":41,"column":72,"offset":1125},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are 7-ish Tapable instances in this talk that Sean deems as the most important.","position":{"start":{"line":43,"column":1,"offset":1127},"end":{"line":43,"column":86,"offset":1212},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1127},"end":{"line":43,"column":86,"offset":1212},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"The 7 Tapable Instances","position":{"start":{"line":45,"column":4,"offset":1217},"end":{"line":45,"column":27,"offset":1240},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1214},"end":{"line":45,"column":27,"offset":1240},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"The Compiler","position":{"start":{"line":47,"column":5,"offset":1246},"end":{"line":47,"column":17,"offset":1258},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":1242},"end":{"line":47,"column":17,"offset":1258},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The compiler:","position":{"start":{"line":49,"column":1,"offset":1260},"end":{"line":49,"column":14,"offset":1273},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1260},"end":{"line":49,"column":14,"offset":1273},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Exposed via Node API","position":{"start":{"line":51,"column":3,"offset":1277},"end":{"line":51,"column":23,"offset":1297},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":1277},"end":{"line":51,"column":23,"offset":1297},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1275},"end":{"line":51,"column":23,"offset":1297},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Central dispatch","position":{"start":{"line":52,"column":3,"offset":1300},"end":{"line":52,"column":19,"offset":1316},"indent":[]}}],"position":{"start":{"line":52,"column":3,"offset":1300},"end":{"line":52,"column":19,"offset":1316},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1298},"end":{"line":52,"column":19,"offset":1316},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Start/stop","position":{"start":{"line":53,"column":3,"offset":1319},"end":{"line":53,"column":13,"offset":1329},"indent":[]}}],"position":{"start":{"line":53,"column":3,"offset":1319},"end":{"line":53,"column":13,"offset":1329},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1317},"end":{"line":53,"column":13,"offset":1329},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1275},"end":{"line":53,"column":13,"offset":1329},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"The Compilation","position":{"start":{"line":55,"column":5,"offset":1335},"end":{"line":55,"column":20,"offset":1350},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1331},"end":{"line":55,"column":20,"offset":1350},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The meat and potatoes of the Webpack. It is the dependency graph.","position":{"start":{"line":57,"column":1,"offset":1352},"end":{"line":57,"column":66,"offset":1417},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1352},"end":{"line":57,"column":66,"offset":1417},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"The Resolver","position":{"start":{"line":59,"column":5,"offset":1423},"end":{"line":59,"column":17,"offset":1435},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":1419},"end":{"line":59,"column":17,"offset":1435},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"\"Finds out if it exists.\"","position":{"start":{"line":61,"column":1,"offset":1437},"end":{"line":61,"column":26,"offset":1462},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":1437},"end":{"line":61,"column":26,"offset":1462},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Module Factories","position":{"start":{"line":63,"column":5,"offset":1468},"end":{"line":63,"column":21,"offset":1484},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1464},"end":{"line":63,"column":21,"offset":1484},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Factories create instances/objects. The module factories does just that.","position":{"start":{"line":65,"column":1,"offset":1486},"end":{"line":65,"column":73,"offset":1558},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":1486},"end":{"line":65,"column":73,"offset":1558},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Takes successfully resolved requests.","position":{"start":{"line":67,"column":3,"offset":1562},"end":{"line":67,"column":40,"offset":1599},"indent":[]}}],"position":{"start":{"line":67,"column":3,"offset":1562},"end":{"line":67,"column":40,"offset":1599},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":1560},"end":{"line":67,"column":40,"offset":1599},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Collects source for that file and creates a module object.","position":{"start":{"line":68,"column":3,"offset":1602},"end":{"line":68,"column":61,"offset":1660},"indent":[]}}],"position":{"start":{"line":68,"column":3,"offset":1602},"end":{"line":68,"column":61,"offset":1660},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":1600},"end":{"line":68,"column":61,"offset":1660},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":1560},"end":{"line":68,"column":61,"offset":1660},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Parser","position":{"start":{"line":70,"column":5,"offset":1666},"end":{"line":70,"column":11,"offset":1672},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":1662},"end":{"line":70,"column":11,"offset":1672},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Parser creates the ASTs and begins walking the graph.","position":{"start":{"line":72,"column":1,"offset":1674},"end":{"line":72,"column":54,"offset":1727},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":1674},"end":{"line":72,"column":54,"offset":1727},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Webpack uses Acorn by default.","position":{"start":{"line":74,"column":3,"offset":1731},"end":{"line":74,"column":33,"offset":1761},"indent":[]}}],"position":{"start":{"line":74,"column":3,"offset":1731},"end":{"line":74,"column":33,"offset":1761},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":1729},"end":{"line":74,"column":33,"offset":1761},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Templates","position":{"start":{"line":76,"column":5,"offset":1767},"end":{"line":76,"column":14,"offset":1776},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":1763},"end":{"line":76,"column":14,"offset":1776},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Data binding for the modules. Creates the source code you see in your bundles.","position":{"start":{"line":78,"column":1,"offset":1778},"end":{"line":78,"column":79,"offset":1856},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":1778},"end":{"line":78,"column":79,"offset":1856},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Plugin System Code Walkthough","position":{"start":{"line":80,"column":4,"offset":1861},"end":{"line":80,"column":33,"offset":1890},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":1858},"end":{"line":80,"column":33,"offset":1890},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are hundreds of properties exposed out of the box.","position":{"start":{"line":82,"column":1,"offset":1892},"end":{"line":82,"column":57,"offset":1948},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":1892},"end":{"line":82,"column":57,"offset":1948},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"webpack.options.apply","position":{"start":{"line":84,"column":1,"offset":1950},"end":{"line":84,"column":24,"offset":1973},"indent":[]}},{"type":"text","value":" takes the config and \"basically runs a huge switch statement\" and changes the module based on the env ie Electron, etc.","position":{"start":{"line":84,"column":24,"offset":1973},"end":{"line":84,"column":144,"offset":2093},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":1950},"end":{"line":84,"column":144,"offset":2093},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Creating a Plugin","position":{"start":{"line":86,"column":4,"offset":2098},"end":{"line":86,"column":21,"offset":2115},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":2095},"end":{"line":86,"column":21,"offset":2115},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"It is a class with an ","position":{"start":{"line":88,"column":3,"offset":2119},"end":{"line":88,"column":25,"offset":2141},"indent":[]}},{"type":"inlineCode","value":"apply","position":{"start":{"line":88,"column":25,"offset":2141},"end":{"line":88,"column":32,"offset":2148},"indent":[]}},{"type":"text","value":" method.","position":{"start":{"line":88,"column":32,"offset":2148},"end":{"line":88,"column":40,"offset":2156},"indent":[]}}],"position":{"start":{"line":88,"column":3,"offset":2119},"end":{"line":88,"column":40,"offset":2156},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":2117},"end":{"line":88,"column":40,"offset":2156},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"// plugin\nclass MyFirstWebpackPlugin {\n  // this is the important method\n  apply(compiler) {\n    compiler.hooks.done.tapAsync(\"MyFirstWebpackPlugin\", (stats, cb) => {\n      console.log(stats);\n      cb;\n    }));\n  }\n}\n\nmodule.exports = MyFirstWebpackPlugin;\n\n// in webpack.config.js\nconst MyFirstWebpackPlugin = require('path/to/MyFirstWebpackPlugin');\n\n// ... later in the code\nplugins: [new MyFirstWebpackPlugin()];","position":{"start":{"line":90,"column":1,"offset":2158},"end":{"line":109,"column":4,"offset":2593},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":111,"column":3,"offset":2597},"end":{"line":111,"column":7,"offset":2601},"indent":[]}},{"type":"inlineCode","value":"webpack/lib/Compiler.js","position":{"start":{"line":111,"column":7,"offset":2601},"end":{"line":111,"column":32,"offset":2626},"indent":[]}},{"type":"text","value":" to see all the possible hooks!","position":{"start":{"line":111,"column":32,"offset":2626},"end":{"line":111,"column":63,"offset":2657},"indent":[]}}],"position":{"start":{"line":111,"column":3,"offset":2597},"end":{"line":111,"column":63,"offset":2657},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":2595},"end":{"line":111,"column":63,"offset":2657},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The important part of any hook is the ","position":{"start":{"line":113,"column":1,"offset":2659},"end":{"line":113,"column":39,"offset":2697},"indent":[]}},{"type":"inlineCode","value":"tapAsync","position":{"start":{"line":113,"column":39,"offset":2697},"end":{"line":113,"column":49,"offset":2707},"indent":[]}},{"type":"text","value":" method:","position":{"start":{"line":113,"column":49,"offset":2707},"end":{"line":113,"column":57,"offset":2715},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":2659},"end":{"line":113,"column":57,"offset":2715},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"compiler.hooks.done.tapAsync(\"MyFirstWebpackPlugin\", (stats, cb) => {\n  console.log(stats);\n  debugger; // a cool tip on debugging the webpack plugin at chrome://inspect\n  cb();\n}));","position":{"start":{"line":115,"column":1,"offset":2717},"end":{"line":121,"column":4,"offset":2917},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Using the debugger can tell you so much about why things get tree shaken etc. You can see it in verbose in the debug console using ","position":{"start":{"line":123,"column":1,"offset":2919},"end":{"line":123,"column":132,"offset":3050},"indent":[]}},{"type":"inlineCode","value":"stats.toString(\"verbose\")","position":{"start":{"line":123,"column":132,"offset":3050},"end":{"line":123,"column":159,"offset":3077},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":123,"column":159,"offset":3077},"end":{"line":123,"column":160,"offset":3078},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":2919},"end":{"line":123,"column":160,"offset":3078},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A useful hook to see the outputs:","position":{"start":{"line":125,"column":1,"offset":3080},"end":{"line":125,"column":34,"offset":3113},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":3080},"end":{"line":125,"column":34,"offset":3113},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"compiler.hooks.done.tapAsync(\"MyFirstWebpackPlugin\", (stats, cb) => {\n  const assetNames = [];\n  for (let assetName in stats.compilation.assets) {\n    assetName.push(assetName)\n  }\n  console.log(assetNames.join(\"\\n\"))\n  cb();\n}));","position":{"start":{"line":127,"column":1,"offset":3115},"end":{"line":136,"column":4,"offset":3363},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Plugin Instance Hook","position":{"start":{"line":138,"column":4,"offset":3368},"end":{"line":138,"column":24,"offset":3388},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":3365},"end":{"line":138,"column":24,"offset":3388},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For hooking into another instance, we can use another hook:","position":{"start":{"line":140,"column":1,"offset":3390},"end":{"line":140,"column":60,"offset":3449},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":3390},"end":{"line":140,"column":60,"offset":3449},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"compiler.hooks.compilation.tapAsync(\"MyFirstWebpackPlugin\", (compilation, params) => {\n  const thisCompilationIWantToInspect = compilation;\n  compilation.hooks.seal.tap(\"MyFirstWebpackPlugin\", () => {\n    // annoying gotcha - need to use the variable for it to show in VSCode inspector\n    console.log(thisCompilationIWantToInspect)\n    debugger; // we can now inspect the above\n  })\n}));","position":{"start":{"line":142,"column":1,"offset":3451},"end":{"line":151,"column":4,"offset":3857},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Isolating Plugins","position":{"start":{"line":153,"column":4,"offset":3862},"end":{"line":153,"column":21,"offset":3879},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":3859},"end":{"line":153,"column":21,"offset":3879},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Everything is in memory, so there is no concept of importing ","position":{"start":{"line":155,"column":1,"offset":3881},"end":{"line":155,"column":62,"offset":3942},"indent":[]}},{"type":"inlineCode","value":"fs","position":{"start":{"line":155,"column":62,"offset":3942},"end":{"line":155,"column":66,"offset":3946},"indent":[]}},{"type":"text","value":" from Node. There is a file ","position":{"start":{"line":155,"column":66,"offset":3946},"end":{"line":155,"column":94,"offset":3974},"indent":[]}},{"type":"inlineCode","value":"MemoryOutputFileSystem.js","position":{"start":{"line":155,"column":94,"offset":3974},"end":{"line":155,"column":121,"offset":4001},"indent":[]}},{"type":"text","value":" that has a like of requiring memory fs.","position":{"start":{"line":155,"column":121,"offset":4001},"end":{"line":155,"column":161,"offset":4041},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":3881},"end":{"line":155,"column":161,"offset":4041},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Webpack uses an in-memory file system, simile to ","position":{"start":{"line":157,"column":1,"offset":4043},"end":{"line":157,"column":50,"offset":4092},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/streamich/memfs","children":[{"type":"text","value":"memfs","position":{"start":{"line":157,"column":51,"offset":4093},"end":{"line":157,"column":56,"offset":4098},"indent":[]}}],"position":{"start":{"line":157,"column":50,"offset":4092},"end":{"line":157,"column":93,"offset":4135},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":157,"column":93,"offset":4135},"end":{"line":157,"column":94,"offset":4136},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":4043},"end":{"line":157,"column":94,"offset":4136},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Something else that is cool is that you can take another plugin and use that within your plugin! You can bring your own plugins into other plugins.","position":{"start":{"line":159,"column":1,"offset":4138},"end":{"line":159,"column":148,"offset":4285},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":4138},"end":{"line":159,"column":148,"offset":4285},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Creating a Customer Loader","position":{"start":{"line":161,"column":4,"offset":4290},"end":{"line":161,"column":30,"offset":4316},"indent":[]}}],"position":{"start":{"line":161,"column":1,"offset":4287},"end":{"line":161,"column":30,"offset":4316},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"// webpack.config.js\nmodule.exports = () => ({\n  resolveLoader: {\n    alias: {\n      'my-loader': require.resolve('./build-utils/my-loader.js'),\n    },\n  },\n  module: {\n    reults: [\n      {\n        test: /\\.js/,\n        use: 'my-loader',\n      },\n    ],\n  },\n});\n\n// my-loader.js\nfunction myLoader(source) {\n  debugger;\n  // example Sean uses\n  if (this.resource === 'path/to/file') {\n    // do something with resource\n  }\n  return source;\n}\n\nmodule.exports = myLoader;","position":{"start":{"line":163,"column":1,"offset":4318},"end":{"line":192,"column":4,"offset":4806},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Something that is great, is that if you step over while the bugger is on, you'll got through all ","position":{"start":{"line":194,"column":1,"offset":4808},"end":{"line":194,"column":98,"offset":4905},"indent":[]}},{"type":"inlineCode","value":"js","position":{"start":{"line":194,"column":98,"offset":4905},"end":{"line":194,"column":102,"offset":4909},"indent":[]}},{"type":"text","value":" files!","position":{"start":{"line":194,"column":102,"offset":4909},"end":{"line":194,"column":109,"offset":4916},"indent":[]}}],"position":{"start":{"line":194,"column":1,"offset":4808},"end":{"line":194,"column":109,"offset":4916},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In the example, Sean just uses a simmple.","position":{"start":{"line":196,"column":1,"offset":4918},"end":{"line":196,"column":42,"offset":4959},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":4918},"end":{"line":196,"column":42,"offset":4959},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Configuring Babel for Webpack","position":{"start":{"line":198,"column":4,"offset":4964},"end":{"line":198,"column":33,"offset":4993},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":4961},"end":{"line":198,"column":33,"offset":4993},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"It is important not to transpile Webpack down to CommonJS - this is a common pitfall and will cause issues for scope hoisting, tree shaking etc.","position":{"start":{"line":200,"column":3,"offset":4997},"end":{"line":200,"column":147,"offset":5141},"indent":[]}}],"position":{"start":{"line":200,"column":3,"offset":4997},"end":{"line":200,"column":147,"offset":5141},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":4995},"end":{"line":200,"column":147,"offset":5141},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The is an option to use ","position":{"start":{"line":202,"column":1,"offset":5143},"end":{"line":202,"column":25,"offset":5167},"indent":[]}},{"type":"inlineCode","value":"\"modules\": false","position":{"start":{"line":202,"column":25,"offset":5167},"end":{"line":202,"column":43,"offset":5185},"indent":[]}},{"type":"text","value":" in the Babel config to ensure Webpack isn't down-converted.","position":{"start":{"line":202,"column":43,"offset":5185},"end":{"line":202,"column":103,"offset":5245},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":5143},"end":{"line":202,"column":103,"offset":5245},"indent":[]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":205,"column":1,"offset":5248},"end":{"line":205,"column":31,"offset":5278},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":205,"column":31,"offset":5278}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"webpack-plugins\"\n    }}>{`Webpack Plugins`}</h1>\n    <p>{`Webpack 4 is the standard at the time of this course.`}</p>\n    <h2 {...{\n      \"id\": \"resources\"\n    }}>{`Resources`}</h2>\n    <ol>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"https://frontendmasters.com/courses/webpack-plugins/tapable-plugin-system/\"\n        }}>{`FE Course`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/thelarkinn/webpack-workshop-2018\"\n        }}>{`Course Repo`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"https://webpack.js.org/api/compilation-hooks/\"\n        }}>{`Webpack Compilation`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/streamich/memfs\"\n        }}>{`memfs GitHub`}</a></li>\n    </ol>\n    <h2 {...{\n      \"id\": \"tapable-pluging-system\"\n    }}>{`Tapable Pluging System`}</h2>\n    <p>{`It is a backbone of the webpack of the plugin system.`}</p>\n    <p>{`Things like the `}<inlineCode parentName=\"p\">{`Compiler`}</inlineCode>{` extend `}<inlineCode parentName=\"p\">{`Tapable`}</inlineCode>{`. They have hooks now that are static to see what you can plug into.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// This is only v3 shown for demo purposes.\n// These days you can plug into via the hooks.\nclass BasicPlugin {\n  constructor() {}\n\n  apply(compiler) {\n    compiler.plugin('make', compilation => {\n      console.log('I have access to the compilation!');\n    });\n  }\n}\n\nmodule.exports = BasicPlugin;\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`To access any Tapable instances, you need to go through the compiler.`}</p>\n    </blockquote>\n    <p>{`There are 7-ish Tapable instances in this talk that Sean deems as the most important.`}</p>\n    <h2 {...{\n      \"id\": \"the-7-tapable-instances\"\n    }}>{`The 7 Tapable Instances`}</h2>\n    <h3 {...{\n      \"id\": \"the-compiler\"\n    }}>{`The Compiler`}</h3>\n    <p>{`The compiler:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Exposed via Node API`}</li>\n      <li parentName=\"ul\">{`Central dispatch`}</li>\n      <li parentName=\"ul\">{`Start/stop`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"the-compilation\"\n    }}>{`The Compilation`}</h3>\n    <p>{`The meat and potatoes of the Webpack. It is the dependency graph.`}</p>\n    <h3 {...{\n      \"id\": \"the-resolver\"\n    }}>{`The Resolver`}</h3>\n    <p>{`\"Finds out if it exists.\"`}</p>\n    <h3 {...{\n      \"id\": \"module-factories\"\n    }}>{`Module Factories`}</h3>\n    <p>{`Factories create instances/objects. The module factories does just that.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Takes successfully resolved requests.`}</li>\n      <li parentName=\"ul\">{`Collects source for that file and creates a module object.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"parser\"\n    }}>{`Parser`}</h3>\n    <p>{`Parser creates the ASTs and begins walking the graph.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Webpack uses Acorn by default.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"templates\"\n    }}>{`Templates`}</h3>\n    <p>{`Data binding for the modules. Creates the source code you see in your bundles.`}</p>\n    <h2 {...{\n      \"id\": \"plugin-system-code-walkthough\"\n    }}>{`Plugin System Code Walkthough`}</h2>\n    <p>{`There are hundreds of properties exposed out of the box.`}</p>\n    <p><inlineCode parentName=\"p\">{`webpack.options.apply`}</inlineCode>{` takes the config and \"basically runs a huge switch statement\" and changes the module based on the env ie Electron, etc.`}</p>\n    <h2 {...{\n      \"id\": \"creating-a-plugin\"\n    }}>{`Creating a Plugin`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`It is a class with an `}<inlineCode parentName=\"p\">{`apply`}</inlineCode>{` method.`}</p>\n    </blockquote>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// plugin\nclass MyFirstWebpackPlugin {\n  // this is the important method\n  apply(compiler) {\n    compiler.hooks.done.tapAsync(\"MyFirstWebpackPlugin\", (stats, cb) => {\n      console.log(stats);\n      cb;\n    }));\n  }\n}\n\nmodule.exports = MyFirstWebpackPlugin;\n\n// in webpack.config.js\nconst MyFirstWebpackPlugin = require('path/to/MyFirstWebpackPlugin');\n\n// ... later in the code\nplugins: [new MyFirstWebpackPlugin()];\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Use `}<inlineCode parentName=\"p\">{`webpack/lib/Compiler.js`}</inlineCode>{` to see all the possible hooks!`}</p>\n    </blockquote>\n    <p>{`The important part of any hook is the `}<inlineCode parentName=\"p\">{`tapAsync`}</inlineCode>{` method:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`compiler.hooks.done.tapAsync(\"MyFirstWebpackPlugin\", (stats, cb) => {\n  console.log(stats);\n  debugger; // a cool tip on debugging the webpack plugin at chrome://inspect\n  cb();\n}));\n`}</code></pre>\n    <p>{`Using the debugger can tell you so much about why things get tree shaken etc. You can see it in verbose in the debug console using `}<inlineCode parentName=\"p\">{`stats.toString(\"verbose\")`}</inlineCode>{`.`}</p>\n    <p>{`A useful hook to see the outputs:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`compiler.hooks.done.tapAsync(\"MyFirstWebpackPlugin\", (stats, cb) => {\n  const assetNames = [];\n  for (let assetName in stats.compilation.assets) {\n    assetName.push(assetName)\n  }\n  console.log(assetNames.join(\"\\\\n\"))\n  cb();\n}));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"plugin-instance-hook\"\n    }}>{`Plugin Instance Hook`}</h2>\n    <p>{`For hooking into another instance, we can use another hook:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`compiler.hooks.compilation.tapAsync(\"MyFirstWebpackPlugin\", (compilation, params) => {\n  const thisCompilationIWantToInspect = compilation;\n  compilation.hooks.seal.tap(\"MyFirstWebpackPlugin\", () => {\n    // annoying gotcha - need to use the variable for it to show in VSCode inspector\n    console.log(thisCompilationIWantToInspect)\n    debugger; // we can now inspect the above\n  })\n}));\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"isolating-plugins\"\n    }}>{`Isolating Plugins`}</h2>\n    <p>{`Everything is in memory, so there is no concept of importing `}<inlineCode parentName=\"p\">{`fs`}</inlineCode>{` from Node. There is a file `}<inlineCode parentName=\"p\">{`MemoryOutputFileSystem.js`}</inlineCode>{` that has a like of requiring memory fs.`}</p>\n    <p>{`Webpack uses an in-memory file system, simile to `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/streamich/memfs\"\n      }}>{`memfs`}</a>{`.`}</p>\n    <p>{`Something else that is cool is that you can take another plugin and use that within your plugin! You can bring your own plugins into other plugins.`}</p>\n    <h2 {...{\n      \"id\": \"creating-a-customer-loader\"\n    }}>{`Creating a Customer Loader`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// webpack.config.js\nmodule.exports = () => ({\n  resolveLoader: {\n    alias: {\n      'my-loader': require.resolve('./build-utils/my-loader.js'),\n    },\n  },\n  module: {\n    reults: [\n      {\n        test: /\\\\.js/,\n        use: 'my-loader',\n      },\n    ],\n  },\n});\n\n// my-loader.js\nfunction myLoader(source) {\n  debugger;\n  // example Sean uses\n  if (this.resource === 'path/to/file') {\n    // do something with resource\n  }\n  return source;\n}\n\nmodule.exports = myLoader;\n`}</code></pre>\n    <p>{`Something that is great, is that if you step over while the bugger is on, you'll got through all `}<inlineCode parentName=\"p\">{`js`}</inlineCode>{` files!`}</p>\n    <p>{`In the example, Sean just uses a simmple.`}</p>\n    <h2 {...{\n      \"id\": \"configuring-babel-for-webpack\"\n    }}>{`Configuring Babel for Webpack`}</h2>\n    <blockquote>\n      <p parentName=\"blockquote\">{`It is important not to transpile Webpack down to CommonJS - this is a common pitfall and will cause issues for scope hoisting, tree shaking etc.`}</p>\n    </blockquote>\n    <p>{`The is an option to use `}<inlineCode parentName=\"p\">{`\"modules\": false`}</inlineCode>{` in the Babel config to ensure Webpack isn't down-converted.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}