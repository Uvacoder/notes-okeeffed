{"expireTime":9007200849425500000,"key":"gatsby-plugin-mdx-entire-payload-c280b4969364fbb18e20ad54356d4666-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":133,"offset":134},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":136},"end":{"line":5,"column":29,"offset":164},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Data Systems","position":{"start":{"line":8,"column":3,"offset":169},"end":{"line":8,"column":15,"offset":181},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":15,"offset":181},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Basics","position":{"start":{"line":10,"column":4,"offset":186},"end":{"line":10,"column":10,"offset":192},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":183},"end":{"line":10,"column":10,"offset":192},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The aim is to keep them: Reliable, Scalable and Maintainable","position":{"start":{"line":12,"column":3,"offset":196},"end":{"line":12,"column":63,"offset":256},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":196},"end":{"line":12,"column":63,"offset":256},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":194},"end":{"line":12,"column":63,"offset":256},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Data Systems knowledge includes understanding caches, search indexes, stream/batch processing","position":{"start":{"line":13,"column":3,"offset":259},"end":{"line":13,"column":96,"offset":352},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":259},"end":{"line":13,"column":96,"offset":352},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":257},"end":{"line":13,"column":96,"offset":352},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":194},"end":{"line":13,"column":96,"offset":352},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Reliability","position":{"start":{"line":15,"column":5,"offset":358},"end":{"line":15,"column":16,"offset":369},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":354},"end":{"line":15,"column":16,"offset":369},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Keeping data correctness, completeness across systems, performant and resilient.","position":{"start":{"line":17,"column":3,"offset":373},"end":{"line":17,"column":83,"offset":453},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":373},"end":{"line":17,"column":83,"offset":453},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":371},"end":{"line":17,"column":83,"offset":453},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Fault vs Failure: Fault is a system failing to adhere to a design spec whereas failure means a system failure and requires failover backup procedures.","position":{"start":{"line":18,"column":3,"offset":456},"end":{"line":18,"column":153,"offset":606},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":456},"end":{"line":18,"column":153,"offset":606},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":454},"end":{"line":18,"column":153,"offset":606},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"It's better to measure the latency in percentiles.","position":{"start":{"line":19,"column":3,"offset":609},"end":{"line":19,"column":53,"offset":659},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":609},"end":{"line":19,"column":53,"offset":659},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":607},"end":{"line":19,"column":53,"offset":659},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":371},"end":{"line":19,"column":53,"offset":659},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Scalability","position":{"start":{"line":21,"column":5,"offset":665},"end":{"line":21,"column":16,"offset":676},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":661},"end":{"line":21,"column":16,"offset":676},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"For many backends, the response time is dependent on the slowest server response.","position":{"start":{"line":23,"column":3,"offset":680},"end":{"line":23,"column":84,"offset":761},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":680},"end":{"line":23,"column":84,"offset":761},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":678},"end":{"line":23,"column":84,"offset":761},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Elastic vs manual scaling: one is automated.","position":{"start":{"line":24,"column":3,"offset":764},"end":{"line":24,"column":47,"offset":808},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":764},"end":{"line":24,"column":47,"offset":808},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":762},"end":{"line":24,"column":47,"offset":808},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":678},"end":{"line":24,"column":47,"offset":808},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The architecture for each large scale project is highly specific. It depends on factors such as:","position":{"start":{"line":26,"column":1,"offset":810},"end":{"line":26,"column":97,"offset":906},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":810},"end":{"line":26,"column":97,"offset":906},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Volume of reads","position":{"start":{"line":28,"column":4,"offset":911},"end":{"line":28,"column":19,"offset":926},"indent":[]}}],"position":{"start":{"line":28,"column":4,"offset":911},"end":{"line":28,"column":19,"offset":926},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":908},"end":{"line":28,"column":19,"offset":926},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Volume of writes","position":{"start":{"line":29,"column":4,"offset":930},"end":{"line":29,"column":20,"offset":946},"indent":[]}}],"position":{"start":{"line":29,"column":4,"offset":930},"end":{"line":29,"column":20,"offset":946},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":927},"end":{"line":29,"column":20,"offset":946},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Type of data to stor","position":{"start":{"line":30,"column":4,"offset":950},"end":{"line":30,"column":24,"offset":970},"indent":[]}}],"position":{"start":{"line":30,"column":4,"offset":950},"end":{"line":30,"column":24,"offset":970},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":947},"end":{"line":30,"column":24,"offset":970},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Data complexity","position":{"start":{"line":31,"column":4,"offset":974},"end":{"line":31,"column":19,"offset":989},"indent":[]}}],"position":{"start":{"line":31,"column":4,"offset":974},"end":{"line":31,"column":19,"offset":989},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":971},"end":{"line":31,"column":19,"offset":989},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Response time","position":{"start":{"line":32,"column":4,"offset":993},"end":{"line":32,"column":17,"offset":1006},"indent":[]}}],"position":{"start":{"line":32,"column":4,"offset":993},"end":{"line":32,"column":17,"offset":1006},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":990},"end":{"line":32,"column":17,"offset":1006},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Access patterns","position":{"start":{"line":33,"column":4,"offset":1010},"end":{"line":33,"column":19,"offset":1025},"indent":[]}}],"position":{"start":{"line":33,"column":4,"offset":1010},"end":{"line":33,"column":19,"offset":1025},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1007},"end":{"line":33,"column":19,"offset":1025},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":908},"end":{"line":33,"column":19,"offset":1025},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Example: You could expect 100,000 req/s @ 1kB in size vs 3 req/s @ 2GB in size which equates to the same data throughput but very different requirements.","position":{"start":{"line":35,"column":1,"offset":1027},"end":{"line":35,"column":154,"offset":1180},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1027},"end":{"line":35,"column":154,"offset":1180},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Load parameters identify which requests are common vs which ones are rare.","position":{"start":{"line":37,"column":3,"offset":1184},"end":{"line":37,"column":77,"offset":1258},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":1184},"end":{"line":37,"column":77,"offset":1258},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1182},"end":{"line":37,"column":77,"offset":1258},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1182},"end":{"line":37,"column":77,"offset":1258},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Maintainability","position":{"start":{"line":39,"column":5,"offset":1264},"end":{"line":39,"column":20,"offset":1279},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1260},"end":{"line":39,"column":20,"offset":1279},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember these three principles:","position":{"start":{"line":41,"column":1,"offset":1281},"end":{"line":41,"column":33,"offset":1313},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1281},"end":{"line":41,"column":33,"offset":1313},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Operability","position":{"start":{"line":43,"column":4,"offset":1318},"end":{"line":43,"column":15,"offset":1329},"indent":[]}}],"position":{"start":{"line":43,"column":4,"offset":1318},"end":{"line":43,"column":15,"offset":1329},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1315},"end":{"line":43,"column":15,"offset":1329},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Simplicity (- think abstractions like SQL)","position":{"start":{"line":44,"column":4,"offset":1333},"end":{"line":44,"column":46,"offset":1375},"indent":[]}}],"position":{"start":{"line":44,"column":4,"offset":1333},"end":{"line":44,"column":46,"offset":1375},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1330},"end":{"line":44,"column":46,"offset":1375},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Evolvability","position":{"start":{"line":45,"column":4,"offset":1379},"end":{"line":45,"column":16,"offset":1391},"indent":[]}}],"position":{"start":{"line":45,"column":4,"offset":1379},"end":{"line":45,"column":16,"offset":1391},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1376},"end":{"line":45,"column":16,"offset":1391},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1315},"end":{"line":45,"column":16,"offset":1391},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Data Models","position":{"start":{"line":47,"column":4,"offset":1396},"end":{"line":47,"column":15,"offset":1407},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":1393},"end":{"line":47,"column":15,"offset":1407},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Relational","position":{"start":{"line":49,"column":3,"offset":1411},"end":{"line":49,"column":13,"offset":1421},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":1411},"end":{"line":49,"column":13,"offset":1421},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1409},"end":{"line":49,"column":13,"offset":1421},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Document","position":{"start":{"line":50,"column":3,"offset":1424},"end":{"line":50,"column":11,"offset":1432},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":1424},"end":{"line":50,"column":11,"offset":1432},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1422},"end":{"line":50,"column":11,"offset":1432},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Graph (this is essentially a subtype of relational)","position":{"start":{"line":51,"column":3,"offset":1435},"end":{"line":51,"column":54,"offset":1486},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":1435},"end":{"line":51,"column":54,"offset":1486},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1433},"end":{"line":51,"column":54,"offset":1486},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1409},"end":{"line":51,"column":54,"offset":1486},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Pros of the Document Model","position":{"start":{"line":53,"column":5,"offset":1492},"end":{"line":53,"column":31,"offset":1518},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1488},"end":{"line":53,"column":31,"offset":1518},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Schema flexibility","position":{"start":{"line":55,"column":3,"offset":1522},"end":{"line":55,"column":21,"offset":1540},"indent":[]}}],"position":{"start":{"line":55,"column":3,"offset":1522},"end":{"line":55,"column":21,"offset":1540},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1520},"end":{"line":55,"column":21,"offset":1540},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Better performance due to locality","position":{"start":{"line":56,"column":3,"offset":1543},"end":{"line":56,"column":37,"offset":1577},"indent":[]}}],"position":{"start":{"line":56,"column":3,"offset":1543},"end":{"line":56,"column":37,"offset":1577},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1541},"end":{"line":56,"column":37,"offset":1577},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Apps are generally closer to the data structure","position":{"start":{"line":57,"column":3,"offset":1580},"end":{"line":57,"column":50,"offset":1627},"indent":[]}}],"position":{"start":{"line":57,"column":3,"offset":1580},"end":{"line":57,"column":50,"offset":1627},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":1578},"end":{"line":57,"column":50,"offset":1627},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1520},"end":{"line":57,"column":50,"offset":1627},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Storage + Retrieval","position":{"start":{"line":59,"column":4,"offset":1632},"end":{"line":59,"column":23,"offset":1651},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":1629},"end":{"line":59,"column":23,"offset":1651},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Big difference in storage engines that are optimized for transactional vs analytical (think OLTP/OLAP)","position":{"start":{"line":61,"column":3,"offset":1655},"end":{"line":61,"column":105,"offset":1757},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":1655},"end":{"line":61,"column":105,"offset":1757},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":1653},"end":{"line":61,"column":105,"offset":1757},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Indexes help find keys but generally slow down writes","position":{"start":{"line":62,"column":3,"offset":1760},"end":{"line":62,"column":56,"offset":1813},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":1760},"end":{"line":62,"column":56,"offset":1813},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":1758},"end":{"line":62,"column":56,"offset":1813},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In-memory tress: examples red-black trees, AVL trees. We can make the storage engines to use these styles of trees.","position":{"start":{"line":63,"column":3,"offset":1816},"end":{"line":63,"column":118,"offset":1931},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":1816},"end":{"line":63,"column":118,"offset":1931},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1814},"end":{"line":63,"column":118,"offset":1931},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"LSM Trees can be slow when looking up keys that don't exist","position":{"start":{"line":64,"column":3,"offset":1934},"end":{"line":64,"column":62,"offset":1993},"indent":[]}}],"position":{"start":{"line":64,"column":3,"offset":1934},"end":{"line":64,"column":62,"offset":1993},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Can be countered by \"Bloom Filters\" -> can tell if the key exists.","position":{"start":{"line":65,"column":5,"offset":1998},"end":{"line":65,"column":71,"offset":2064},"indent":[]}}],"position":{"start":{"line":65,"column":5,"offset":1998},"end":{"line":65,"column":71,"offset":2064},"indent":[]}}],"position":{"start":{"line":65,"column":3,"offset":1996},"end":{"line":65,"column":71,"offset":2064},"indent":[]}}],"position":{"start":{"line":65,"column":3,"offset":1996},"end":{"line":65,"column":71,"offset":2064},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":1932},"end":{"line":65,"column":71,"offset":2064},"indent":[1]}}],"position":{"start":{"line":61,"column":1,"offset":1653},"end":{"line":65,"column":71,"offset":2064},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"B-Trees","position":{"start":{"line":67,"column":5,"offset":2070},"end":{"line":67,"column":12,"offset":2077},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":2066},"end":{"line":67,"column":12,"offset":2077},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Most common index used by databases.","position":{"start":{"line":69,"column":3,"offset":2081},"end":{"line":69,"column":39,"offset":2117},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":2081},"end":{"line":69,"column":39,"offset":2117},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2079},"end":{"line":69,"column":39,"offset":2117},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"While log-structured indexes work in variable-size segments and written sequentially, B-Trees have fixed sized \"blocks\" or \"pages\" - this design corresponds to reflecting the underlying hardware.","position":{"start":{"line":70,"column":3,"offset":2120},"end":{"line":70,"column":198,"offset":2315},"indent":[]}}],"position":{"start":{"line":70,"column":3,"offset":2120},"end":{"line":70,"column":198,"offset":2315},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2118},"end":{"line":70,"column":198,"offset":2315},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"B-Tree variant \"fractal trees\" borrow log-structured ideas to reduce disk seeks.","position":{"start":{"line":71,"column":3,"offset":2318},"end":{"line":71,"column":83,"offset":2398},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":2318},"end":{"line":71,"column":83,"offset":2398},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2316},"end":{"line":71,"column":83,"offset":2398},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2079},"end":{"line":71,"column":83,"offset":2398},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"B-Trees vs LSM-Trees","position":{"start":{"line":73,"column":5,"offset":2404},"end":{"line":73,"column":25,"offset":2424},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2400},"end":{"line":73,"column":25,"offset":2424},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"B-Tree more mature","position":{"start":{"line":75,"column":3,"offset":2428},"end":{"line":75,"column":21,"offset":2446},"indent":[]}}],"position":{"start":{"line":75,"column":3,"offset":2428},"end":{"line":75,"column":21,"offset":2446},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2426},"end":{"line":75,"column":21,"offset":2446},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"LSM faster for writes","position":{"start":{"line":76,"column":3,"offset":2449},"end":{"line":76,"column":24,"offset":2470},"indent":[]}}],"position":{"start":{"line":76,"column":3,"offset":2449},"end":{"line":76,"column":24,"offset":2470},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2447},"end":{"line":76,"column":24,"offset":2470},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"B faster for reads","position":{"start":{"line":77,"column":3,"offset":2473},"end":{"line":77,"column":21,"offset":2491},"indent":[]}}],"position":{"start":{"line":77,"column":3,"offset":2473},"end":{"line":77,"column":21,"offset":2491},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2471},"end":{"line":77,"column":21,"offset":2491},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"B-Tree must write everything twice (write-ahead log and potential multi-writes to tree pages)","position":{"start":{"line":78,"column":3,"offset":2494},"end":{"line":78,"column":96,"offset":2587},"indent":[]}}],"position":{"start":{"line":78,"column":3,"offset":2494},"end":{"line":78,"column":96,"offset":2587},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2492},"end":{"line":78,"column":96,"offset":2587},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Log structured indexes also rewrite data multiple times. This is known as \"write amplification\" and is a concern for SSDs.","position":{"start":{"line":79,"column":3,"offset":2590},"end":{"line":79,"column":125,"offset":2712},"indent":[]}}],"position":{"start":{"line":79,"column":3,"offset":2590},"end":{"line":79,"column":125,"offset":2712},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2588},"end":{"line":79,"column":125,"offset":2712},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"LSM trees compress files better","position":{"start":{"line":80,"column":3,"offset":2715},"end":{"line":80,"column":34,"offset":2746},"indent":[]}}],"position":{"start":{"line":80,"column":3,"offset":2715},"end":{"line":80,"column":34,"offset":2746},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":2713},"end":{"line":80,"column":34,"offset":2746},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2426},"end":{"line":80,"column":34,"offset":2746},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"The downsides of LSM-Trees","position":{"start":{"line":82,"column":5,"offset":2752},"end":{"line":82,"column":31,"offset":2778},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":2748},"end":{"line":82,"column":31,"offset":2778},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Compaction process can sometimes interfere with ongoing reads/writes.","position":{"start":{"line":84,"column":3,"offset":2782},"end":{"line":84,"column":72,"offset":2851},"indent":[]}}],"position":{"start":{"line":84,"column":3,"offset":2782},"end":{"line":84,"column":72,"offset":2851},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":2780},"end":{"line":84,"column":72,"offset":2851},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":2780},"end":{"line":84,"column":72,"offset":2851},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Other notes","position":{"start":{"line":86,"column":5,"offset":2857},"end":{"line":86,"column":16,"offset":2868},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":2853},"end":{"line":86,"column":16,"offset":2868},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Secondary index normally not unique (consider the use of ","position":{"start":{"line":88,"column":3,"offset":2872},"end":{"line":88,"column":60,"offset":2929},"indent":[]}},{"type":"inlineCode","value":"user_id","position":{"start":{"line":88,"column":60,"offset":2929},"end":{"line":88,"column":69,"offset":2938},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":88,"column":69,"offset":2938},"end":{"line":88,"column":70,"offset":2939},"indent":[]}}],"position":{"start":{"line":88,"column":3,"offset":2872},"end":{"line":88,"column":70,"offset":2939},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":2870},"end":{"line":88,"column":70,"offset":2939},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"R-Trees normally used for optimised geospatial query efficiency.","position":{"start":{"line":89,"column":3,"offset":2942},"end":{"line":89,"column":67,"offset":3006},"indent":[]}}],"position":{"start":{"line":89,"column":3,"offset":2942},"end":{"line":89,"column":67,"offset":3006},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":2940},"end":{"line":89,"column":67,"offset":3006},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"LSM-Trees themselves do not handle updating. They essentially can only append and remove the stale data. B-Trees can update in place.","position":{"start":{"line":90,"column":3,"offset":3009},"end":{"line":90,"column":136,"offset":3142},"indent":[]}}],"position":{"start":{"line":90,"column":3,"offset":3009},"end":{"line":90,"column":136,"offset":3142},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":3007},"end":{"line":90,"column":136,"offset":3142},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":2870},"end":{"line":90,"column":136,"offset":3142},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"OLAP vs OLTP","position":{"start":{"line":92,"column":5,"offset":3148},"end":{"line":92,"column":17,"offset":3160},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":3144},"end":{"line":92,"column":17,"offset":3160},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A transaction needn't adhere to all principles of ACID. \"Transaction\" processing mean low latency read/writes.","position":{"start":{"line":94,"column":3,"offset":3164},"end":{"line":94,"column":113,"offset":3274},"indent":[]}}],"position":{"start":{"line":94,"column":3,"offset":3164},"end":{"line":94,"column":113,"offset":3274},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":3162},"end":{"line":94,"column":113,"offset":3274},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Commonly used with relational databases.","position":{"start":{"line":95,"column":3,"offset":3277},"end":{"line":95,"column":43,"offset":3317},"indent":[]}}],"position":{"start":{"line":95,"column":3,"offset":3277},"end":{"line":95,"column":43,"offset":3317},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3275},"end":{"line":95,"column":43,"offset":3317},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Performance can be improved using vectorized processing (SIMD - single instruction multi data)","position":{"start":{"line":96,"column":3,"offset":3320},"end":{"line":96,"column":97,"offset":3414},"indent":[]}}],"position":{"start":{"line":96,"column":3,"offset":3320},"end":{"line":96,"column":97,"offset":3414},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Column compression can also make use of the L1 cache.","position":{"start":{"line":97,"column":5,"offset":3419},"end":{"line":97,"column":58,"offset":3472},"indent":[]}}],"position":{"start":{"line":97,"column":5,"offset":3419},"end":{"line":97,"column":58,"offset":3472},"indent":[]}}],"position":{"start":{"line":97,"column":3,"offset":3417},"end":{"line":97,"column":58,"offset":3472},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Update-in-place like what B-Trees use are not possible with column compression.","position":{"start":{"line":98,"column":5,"offset":3477},"end":{"line":98,"column":84,"offset":3556},"indent":[]}}],"position":{"start":{"line":98,"column":5,"offset":3477},"end":{"line":98,"column":84,"offset":3556},"indent":[]}}],"position":{"start":{"line":98,"column":3,"offset":3475},"end":{"line":98,"column":84,"offset":3556},"indent":[]}}],"position":{"start":{"line":97,"column":3,"offset":3417},"end":{"line":98,"column":84,"offset":3556},"indent":[3]}}],"position":{"start":{"line":96,"column":1,"offset":3318},"end":{"line":98,"column":84,"offset":3556},"indent":[1,1]}}],"position":{"start":{"line":94,"column":1,"offset":3162},"end":{"line":98,"column":84,"offset":3556},"indent":[1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":101,"column":1,"offset":3559},"end":{"line":101,"column":31,"offset":3589},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":101,"column":31,"offset":3589}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"data-systems\"\n    }}>{`Data Systems`}</h1>\n    <h2 {...{\n      \"id\": \"basics\"\n    }}>{`Basics`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`The aim is to keep them: Reliable, Scalable and Maintainable`}</li>\n      <li parentName=\"ul\">{`Data Systems knowledge includes understanding caches, search indexes, stream/batch processing`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"reliability\"\n    }}>{`Reliability`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Keeping data correctness, completeness across systems, performant and resilient.`}</li>\n      <li parentName=\"ul\">{`Fault vs Failure: Fault is a system failing to adhere to a design spec whereas failure means a system failure and requires failover backup procedures.`}</li>\n      <li parentName=\"ul\">{`It's better to measure the latency in percentiles.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"scalability\"\n    }}>{`Scalability`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`For many backends, the response time is dependent on the slowest server response.`}</li>\n      <li parentName=\"ul\">{`Elastic vs manual scaling: one is automated.`}</li>\n    </ul>\n    <p>{`The architecture for each large scale project is highly specific. It depends on factors such as:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Volume of reads`}</li>\n      <li parentName=\"ol\">{`Volume of writes`}</li>\n      <li parentName=\"ol\">{`Type of data to stor`}</li>\n      <li parentName=\"ol\">{`Data complexity`}</li>\n      <li parentName=\"ol\">{`Response time`}</li>\n      <li parentName=\"ol\">{`Access patterns`}</li>\n    </ol>\n    <p>{`Example: You could expect 100,000 req/s @ 1kB in size vs 3 req/s @ 2GB in size which equates to the same data throughput but very different requirements.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Load parameters identify which requests are common vs which ones are rare.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"maintainability\"\n    }}>{`Maintainability`}</h3>\n    <p>{`Remember these three principles:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Operability`}</li>\n      <li parentName=\"ol\">{`Simplicity (- think abstractions like SQL)`}</li>\n      <li parentName=\"ol\">{`Evolvability`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"data-models\"\n    }}>{`Data Models`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Relational`}</li>\n      <li parentName=\"ul\">{`Document`}</li>\n      <li parentName=\"ul\">{`Graph (this is essentially a subtype of relational)`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"pros-of-the-document-model\"\n    }}>{`Pros of the Document Model`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Schema flexibility`}</li>\n      <li parentName=\"ul\">{`Better performance due to locality`}</li>\n      <li parentName=\"ul\">{`Apps are generally closer to the data structure`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"storage--retrieval\"\n    }}>{`Storage + Retrieval`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Big difference in storage engines that are optimized for transactional vs analytical (think OLTP/OLAP)`}</li>\n      <li parentName=\"ul\">{`Indexes help find keys but generally slow down writes`}</li>\n      <li parentName=\"ul\">{`In-memory tress: examples red-black trees, AVL trees. We can make the storage engines to use these styles of trees.`}</li>\n      <li parentName=\"ul\">{`LSM Trees can be slow when looking up keys that don't exist`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Can be countered by \"Bloom Filters\" -> can tell if the key exists.`}</li>\n        </ul></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"b-trees\"\n    }}>{`B-Trees`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Most common index used by databases.`}</li>\n      <li parentName=\"ul\">{`While log-structured indexes work in variable-size segments and written sequentially, B-Trees have fixed sized \"blocks\" or \"pages\" - this design corresponds to reflecting the underlying hardware.`}</li>\n      <li parentName=\"ul\">{`B-Tree variant \"fractal trees\" borrow log-structured ideas to reduce disk seeks.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"b-trees-vs-lsm-trees\"\n    }}>{`B-Trees vs LSM-Trees`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`B-Tree more mature`}</li>\n      <li parentName=\"ul\">{`LSM faster for writes`}</li>\n      <li parentName=\"ul\">{`B faster for reads`}</li>\n      <li parentName=\"ul\">{`B-Tree must write everything twice (write-ahead log and potential multi-writes to tree pages)`}</li>\n      <li parentName=\"ul\">{`Log structured indexes also rewrite data multiple times. This is known as \"write amplification\" and is a concern for SSDs.`}</li>\n      <li parentName=\"ul\">{`LSM trees compress files better`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"the-downsides-of-lsm-trees\"\n    }}>{`The downsides of LSM-Trees`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Compaction process can sometimes interfere with ongoing reads/writes.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"other-notes\"\n    }}>{`Other notes`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Secondary index normally not unique (consider the use of `}<inlineCode parentName=\"li\">{`user_id`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\">{`R-Trees normally used for optimised geospatial query efficiency.`}</li>\n      <li parentName=\"ul\">{`LSM-Trees themselves do not handle updating. They essentially can only append and remove the stale data. B-Trees can update in place.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"olap-vs-oltp\"\n    }}>{`OLAP vs OLTP`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`A transaction needn't adhere to all principles of ACID. \"Transaction\" processing mean low latency read/writes.`}</li>\n      <li parentName=\"ul\">{`Commonly used with relational databases.`}</li>\n      <li parentName=\"ul\">{`Performance can be improved using vectorized processing (SIMD - single instruction multi data)`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Column compression can also make use of the L1 cache.`}</li>\n          <li parentName=\"ul\">{`Update-in-place like what B-Trees use are not possible with column compression.`}</li>\n        </ul></li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}