{"expireTime":9007200852878350000,"key":"gatsby-plugin-mdx-entire-payload-3ffccf0b22abea4abd406563a09c1b39-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":133,"offset":134},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":136},"end":{"line":5,"column":29,"offset":164},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Storybook With Treat","position":{"start":{"line":8,"column":3,"offset":169},"end":{"line":8,"column":23,"offset":189},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":23,"offset":189},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Setting Up Storybook","position":{"start":{"line":10,"column":4,"offset":194},"end":{"line":10,"column":24,"offset":214},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":191},"end":{"line":10,"column":24,"offset":214},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The reference for getting started with ","position":{"start":{"line":12,"column":1,"offset":216},"end":{"line":12,"column":40,"offset":255},"indent":[]}},{"type":"link","title":null,"url":"https://www.learnstorybook.com/intro-to-storybook/react/en/get-started/","children":[{"type":"text","value":"Storybook can be found here","position":{"start":{"line":12,"column":41,"offset":256},"end":{"line":12,"column":68,"offset":283},"indent":[]}}],"position":{"start":{"line":12,"column":40,"offset":255},"end":{"line":12,"column":142,"offset":357},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":12,"column":142,"offset":357},"end":{"line":12,"column":143,"offset":358},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":216},"end":{"line":12,"column":143,"offset":358},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Note With Mixing Yarn and NPM","position":{"start":{"line":14,"column":4,"offset":363},"end":{"line":14,"column":33,"offset":392},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":360},"end":{"line":14,"column":33,"offset":392},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If for some reason you are mixing ","position":{"start":{"line":16,"column":1,"offset":394},"end":{"line":16,"column":35,"offset":428},"indent":[]}},{"type":"inlineCode","value":"npx","position":{"start":{"line":16,"column":35,"offset":428},"end":{"line":16,"column":40,"offset":433},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":16,"column":40,"offset":433},"end":{"line":16,"column":45,"offset":438},"indent":[]}},{"type":"inlineCode","value":"yarn","position":{"start":{"line":16,"column":45,"offset":438},"end":{"line":16,"column":51,"offset":444},"indent":[]}},{"type":"text","value":", you may run into issues with package versions. If this occurs, troubleshooting may be eased by using Yarn Resolutions ie in package.json add the following:","position":{"start":{"line":16,"column":51,"offset":444},"end":{"line":16,"column":208,"offset":601},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":394},"end":{"line":16,"column":208,"offset":601},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"\"resolutions\": {\n  \"webpack\": \"4.39.1\" // whatever version you want to resolve\n}","position":{"start":{"line":18,"column":1,"offset":603},"end":{"line":22,"column":4,"offset":695},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This was a killer when first attempting to setup.","position":{"start":{"line":24,"column":1,"offset":697},"end":{"line":24,"column":50,"offset":746},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":697},"end":{"line":24,"column":50,"offset":746},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Setting Up Configuration","position":{"start":{"line":26,"column":4,"offset":751},"end":{"line":26,"column":28,"offset":775},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":748},"end":{"line":26,"column":28,"offset":775},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In ","position":{"start":{"line":28,"column":1,"offset":777},"end":{"line":28,"column":4,"offset":780},"indent":[]}},{"type":"inlineCode","value":".storybook/config.js","position":{"start":{"line":28,"column":4,"offset":780},"end":{"line":28,"column":26,"offset":802},"indent":[]}},{"type":"text","value":" we need to setup Storybook to have the TreatProvider over all the stories:","position":{"start":{"line":28,"column":26,"offset":802},"end":{"line":28,"column":101,"offset":877},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":777},"end":{"line":28,"column":101,"offset":877},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"import { configure } from '@storybook/react';\nimport { load, addDecorator } from '@storybook/react';\nimport React from 'react';\nimport { TreatProvider } from 'react-treat';\nimport * as themes from '../src/themes/treat';\nconst themeNames = ['scruffy', 'daisy', 'three', 'four'];\n\n// use this to add the decorator to every story\naddDecorator(storyFn => (\n  <TreatProvider theme={themes['daisy']}>{storyFn()}</TreatProvider>\n));\n// automatically import all files ending in *.stories.js\nconfigure(require.context('../src', true, /\\.stories\\.js$/), module);","position":{"start":{"line":30,"column":1,"offset":879},"end":{"line":44,"column":4,"offset":1449},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We also need to add the ","position":{"start":{"line":46,"column":1,"offset":1451},"end":{"line":46,"column":25,"offset":1475},"indent":[]}},{"type":"inlineCode","value":"TreatPlugin","position":{"start":{"line":46,"column":25,"offset":1475},"end":{"line":46,"column":38,"offset":1488},"indent":[]}},{"type":"text","value":" into the Webpack build. For that, update ","position":{"start":{"line":46,"column":38,"offset":1488},"end":{"line":46,"column":80,"offset":1530},"indent":[]}},{"type":"inlineCode","value":".storybook/webpack.config.js","position":{"start":{"line":46,"column":80,"offset":1530},"end":{"line":46,"column":110,"offset":1560},"indent":[]}},{"type":"text","value":" to reflect the following:","position":{"start":{"line":46,"column":110,"offset":1560},"end":{"line":46,"column":136,"offset":1586},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1451},"end":{"line":46,"column":136,"offset":1586},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"const path = require('path');\n// your app's webpack.config.js\nconst TreatPlugin = require('treat/webpack-plugin');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\n\nmodule.exports = async ({ config, mode }) => {\n  config.plugins.push(\n    new TreatPlugin({\n      outputLoaders: [MiniCssExtractPlugin.loader],\n    }),\n  );\n  config.plugins.push(new MiniCssExtractPlugin());\n  return config;\n};\n// you can use this file to add your custom webpack plugins, loaders and anything you like.\n// This is just the basic way to add additional webpack configurations.\n// For more information refer the docs: https://storybook.js.org/configurations/custom-webpack-config\n\n// IMPORTANT\n// When you add this file, we won't add the default configurations which is similar\n// to \"React Create App\". This only has babel loader to load JavaScript.","position":{"start":{"line":48,"column":1,"offset":1588},"end":{"line":70,"column":4,"offset":2451},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Perfecto! Added ","position":{"start":{"line":72,"column":1,"offset":2453},"end":{"line":72,"column":17,"offset":2469},"indent":[]}},{"type":"inlineCode","value":"\"storybook\": \"start-storybook -p 6006\"","position":{"start":{"line":72,"column":17,"offset":2469},"end":{"line":72,"column":57,"offset":2509},"indent":[]}},{"type":"text","value":" to your scripts in ","position":{"start":{"line":72,"column":57,"offset":2509},"end":{"line":72,"column":77,"offset":2529},"indent":[]}},{"type":"inlineCode","value":"package.json","position":{"start":{"line":72,"column":77,"offset":2529},"end":{"line":72,"column":91,"offset":2543},"indent":[]}},{"type":"text","value":" and you are ready to go!","position":{"start":{"line":72,"column":91,"offset":2543},"end":{"line":72,"column":116,"offset":2568},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2453},"end":{"line":72,"column":116,"offset":2568},"indent":[]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":75,"column":1,"offset":2571},"end":{"line":75,"column":31,"offset":2601},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":75,"column":31,"offset":2601}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"storybook-with-treat\"\n    }}>{`Storybook With Treat`}</h1>\n    <h2 {...{\n      \"id\": \"setting-up-storybook\"\n    }}>{`Setting Up Storybook`}</h2>\n    <p>{`The reference for getting started with `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.learnstorybook.com/intro-to-storybook/react/en/get-started/\"\n      }}>{`Storybook can be found here`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"note-with-mixing-yarn-and-npm\"\n    }}>{`Note With Mixing Yarn and NPM`}</h2>\n    <p>{`If for some reason you are mixing `}<inlineCode parentName=\"p\">{`npx`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`yarn`}</inlineCode>{`, you may run into issues with package versions. If this occurs, troubleshooting may be eased by using Yarn Resolutions ie in package.json add the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`\"resolutions\": {\n  \"webpack\": \"4.39.1\" // whatever version you want to resolve\n}\n`}</code></pre>\n    <p>{`This was a killer when first attempting to setup.`}</p>\n    <h2 {...{\n      \"id\": \"setting-up-configuration\"\n    }}>{`Setting Up Configuration`}</h2>\n    <p>{`In `}<inlineCode parentName=\"p\">{`.storybook/config.js`}</inlineCode>{` we need to setup Storybook to have the TreatProvider over all the stories:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`import { configure } from '@storybook/react';\nimport { load, addDecorator } from '@storybook/react';\nimport React from 'react';\nimport { TreatProvider } from 'react-treat';\nimport * as themes from '../src/themes/treat';\nconst themeNames = ['scruffy', 'daisy', 'three', 'four'];\n\n// use this to add the decorator to every story\naddDecorator(storyFn => (\n  <TreatProvider theme={themes['daisy']}>{storyFn()}</TreatProvider>\n));\n// automatically import all files ending in *.stories.js\nconfigure(require.context('../src', true, /\\\\.stories\\\\.js$/), module);\n`}</code></pre>\n    <p>{`We also need to add the `}<inlineCode parentName=\"p\">{`TreatPlugin`}</inlineCode>{` into the Webpack build. For that, update `}<inlineCode parentName=\"p\">{`.storybook/webpack.config.js`}</inlineCode>{` to reflect the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const path = require('path');\n// your app's webpack.config.js\nconst TreatPlugin = require('treat/webpack-plugin');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\n\nmodule.exports = async ({ config, mode }) => {\n  config.plugins.push(\n    new TreatPlugin({\n      outputLoaders: [MiniCssExtractPlugin.loader],\n    }),\n  );\n  config.plugins.push(new MiniCssExtractPlugin());\n  return config;\n};\n// you can use this file to add your custom webpack plugins, loaders and anything you like.\n// This is just the basic way to add additional webpack configurations.\n// For more information refer the docs: https://storybook.js.org/configurations/custom-webpack-config\n\n// IMPORTANT\n// When you add this file, we won't add the default configurations which is similar\n// to \"React Create App\". This only has babel loader to load JavaScript.\n`}</code></pre>\n    <p>{`Perfecto! Added `}<inlineCode parentName=\"p\">{`\"storybook\": \"start-storybook -p 6006\"`}</inlineCode>{` to your scripts in `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` and you are ready to go!`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}